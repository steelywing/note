"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2847],{23657:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>u,contentTitle:()=>l,default:()=>t,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var n=r(75366),d=r(26192);const a={},l=void 0,i={id:"Linux/User",title:"User",description:"User",source:"@site/docs/Linux/User.md",sourceDirName:"Linux",slug:"/Linux/User",permalink:"/note/Linux/User",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Linux/User.md",tags:[],version:"current",frontMatter:{},sidebar:"linux",previous:{title:"Ubuntu",permalink:"/note/Linux/Ubuntu"},next:{title:"VPN",permalink:"/note/Linux/VPN"}},u={},c=[{value:"User",id:"user",level:2},{value:"Add user",id:"add-user",level:3},{value:"Delete user",id:"delete-user",level:3},{value:"Lock user",id:"lock-user",level:3},{value:"Unlock user",id:"unlock-user",level:3},{value:"User database file",id:"user-database-file",level:3},{value:"Password",id:"password",level:2},{value:"Password file",id:"password-file",level:3},{value:"Change password",id:"change-password",level:3},{value:"Delete password",id:"delete-password",level:3},{value:"Expire user password",id:"expire-user-password",level:3},{value:"Set password expire day",id:"set-password-expire-day",level:3},{value:"Group",id:"group",level:2},{value:"Change / Override user&#39;s primary group",id:"change--override-users-primary-group",level:3},{value:"Change / Override user&#39;s supplementary groups",id:"change--override-users-supplementary-groups",level:3},{value:"Add user&#39;s supplementary groups",id:"add-users-supplementary-groups",level:3}];function o(e){const s={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h2,{id:"user",children:"User"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"<group>"})}),(0,n.jsxs)(s.td,{children:["Primary group, User must and only have 1 primary group. Can be view with ",(0,n.jsx)(s.code,{children:"getent passwd"})," file (Usually stored in ",(0,n.jsx)(s.code,{children:"/etc/passwd"}),")"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"<supplementary group>"})}),(0,n.jsxs)(s.td,{children:["Additional groups, User may have multiple supplementary group. Can be view with ",(0,n.jsx)(s.code,{children:"getent group"})," file (Usually stored in ",(0,n.jsx)(s.code,{children:"/etc/group"}),")"]})]})]})]}),"\n",(0,n.jsx)(s.h3,{id:"add-user",children:"Add user"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"useradd <user> [-d <home directory>] [-g <group>] [-G <supplementary group>[,...]] [-s <shell>]\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"# Debian only\r\nadduser <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"delete-user",children:"Delete user"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"userdel <user>\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"# Debian only\r\ndeluser <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"lock-user",children:"Lock user"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"passwd -l <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"unlock-user",children:"Unlock user"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"passwd -u <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"user-database-file",children:"User database file"}),"\n",(0,n.jsxs)(s.p,{children:["Usually store in ",(0,n.jsx)(s.code,{children:"/etc/passwd"})]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"getent passwd\n"})}),"\n",(0,n.jsx)(s.h2,{id:"password",children:"Password"}),"\n",(0,n.jsx)(s.h3,{id:"password-file",children:"Password file"}),"\n",(0,n.jsxs)(s.p,{children:["Usually store in ",(0,n.jsx)(s.code,{children:"/etc/shadow"})]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"getent shadow\n"})}),"\n",(0,n.jsx)(s.h3,{id:"change-password",children:"Change password"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"passwd [<user>]\n"})}),"\n",(0,n.jsx)(s.h3,{id:"delete-password",children:"Delete password"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"passwd -d <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"expire-user-password",children:"Expire user password"}),"\n",(0,n.jsx)(s.p,{children:"Force user to change password"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"passwd -e <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"set-password-expire-day",children:"Set password expire day"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"passwd -x <day> <user>\n"})}),"\n",(0,n.jsx)(s.h2,{id:"group",children:"Group"}),"\n",(0,n.jsx)(s.h3,{id:"change--override-users-primary-group",children:"Change / Override user's primary group"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"usermod -g <group> <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"change--override-users-supplementary-groups",children:"Change / Override user's supplementary groups"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"usermod -G <group>[,...] <user>\n"})}),"\n",(0,n.jsx)(s.h3,{id:"add-users-supplementary-groups",children:"Add user's supplementary groups"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"usermod -aG <group>[,...] <user>\n"})})]})}function t(e={}){const{wrapper:s}={...(0,d.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},26192:(e,s,r)=>{r.d(s,{Z:()=>i,a:()=>l});var n=r(97049);const d={},a=n.createContext(d);function l(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);