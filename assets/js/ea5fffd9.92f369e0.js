"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[549],{76719:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>o});var i=s(75366),l=s(26192);const d={},c="Godot",r={id:"Note/Godot",title:"Godot",description:"| Name | Description |",source:"@site/docs/Note/Godot.md",sourceDirName:"Note",slug:"/Note/Godot",permalink:"/note/Note/Godot",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Note/Godot.md",tags:[],version:"current",frontMatter:{},sidebar:"note",previous:{title:"File System",permalink:"/note/Note/FileSystem"},next:{title:"iLO",permalink:"/note/Note/HP/iLO"}},t={},o=[{value:"Cons",id:"cons",level:2},{value:"Joint",id:"joint",level:2},{value:"Pin Joint",id:"pin-joint",level:3},{value:"Singleton",id:"singleton",level:2},{value:"Editor 3D Navigation",id:"editor-3d-navigation",level:2},{value:"Unhandled Exception Policy",id:"unhandled-exception-policy",level:2},{value:"Dot Product",id:"dot-product",level:2},{value:"Cross Product",id:"cross-product",level:2},{value:"<code>Mathf</code>",id:"mathf",level:2},{value:"Physics",id:"physics",level:2},{value:"FPS",id:"fps",level:2},{value:"Input",id:"input",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"godot",children:"Godot"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Name"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Vertex / Vertices / Point"}),(0,i.jsx)(n.td,{children:"\u9ede"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Edge / Line"}),(0,i.jsx)(n.td,{children:"\u7dda"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Face"}),(0,i.jsx)(n.td,{children:"\u9762"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Mesh / Polygon"}),(0,i.jsx)(n.td,{children:"\u591a\u9762\u9ad4\uff0cVertex / Edge / Face \u7684\u96c6"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Concave"}),(0,i.jsx)(n.td,{children:"\u7531 Face \u7d44\u6210\u7684\u591a\u9762\u9ad4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Convex"}),(0,i.jsx)(n.td,{children:"\u7531 Vertex \u7d44\u6210\u7684\u591a\u9762\u9ad4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Magnitude"}),(0,i.jsx)(n.td,{children:"Vector Length / \u5411\u91cf\u7684\u9577\u5ea6"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"cons",children:"Cons"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Node structure (Not ECS)"}),"\n",(0,i.jsx)(n.li,{children:"Rigid / Kinematic / Static is separate, and some common method is missing"}),"\n",(0,i.jsx)(n.li,{children:"3D Physics method not complete"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PhysicsDirectBodyState"})," is singleton !?"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PhysicalBone"})," does not have velocity method"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"PhysicsBody"})," transform does not sync with ",(0,i.jsx)(n.code,{children:"PhysicsServer"})]}),"\n",(0,i.jsx)(n.li,{children:"Lack physics doc"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"joint",children:"Joint"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Will use ",(0,i.jsx)(n.code,{children:"node.GlobalTransform.origin"})," - ",(0,i.jsx)(n.code,{children:"joint.GlobalTransform.origin"})," as anchor point"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# Reference: bullet\\BulletDynamics\\ConstraintSolver\\btGeneric6DofConstraint.cpp\n\nImpulse = LimitSoftness * (Restitution * Depth / TimeStep - Damping * RelativeVelocity) * jacDiagABInv;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"pin-joint",children:"Pin Joint"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4fdd\u6301 ",(0,i.jsx)(n.strong,{children:"\u56fa\u5b9a\u8ddd\u96e2"}),"\uff0c",(0,i.jsx)(n.strong,{children:"\u56fa\u5b9a\u8ddd\u96e2"})," = \u5efa\u7acb Pin Joint \u6642\u7684\u8ddd\u96e2"]}),"\n",(0,i.jsxs)(n.li,{children:["Damping (\u963b\u5c3c)\uff1a\u548c ",(0,i.jsx)(n.strong,{children:"\u56fa\u5b9a\u8ddd\u96e2"})," \u8d8a\u8fd1\u6642\uff0c\u5f15\u529b\u7684\u76f8\u53cd\u65b9\u5411\u4f5c\u7528\u529b\uff0c> 1 \u6703\u4f7f \u76f8\u53cd\u65b9\u5411\u4f5c\u7528\u529b > \u5f15\u529b"]}),"\n",(0,i.jsx)(n.li,{children:"Impulse Clamp\uff1a\u6700\u5927\u5f15\u529b"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"singleton",children:"Singleton"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://docs.godotengine.org/en/stable/getting_started/step_by_step/singletons_autoload.html",children:"Reference"})}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Project"})," \u25b6 ",(0,i.jsx)(n.strong,{children:"Project Settings"})," \u25b6 ",(0,i.jsx)(n.strong,{children:"Autoload"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Can be class (",(0,i.jsx)(n.code,{children:".cs"})," / ",(0,i.jsx)(n.code,{children:".gd"}),") or scene (",(0,i.jsx)(n.code,{children:".tscn"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Class must inherit from ",(0,i.jsx)(n.code,{children:"Godot.Node"})]}),"\n",(0,i.jsxs)(n.li,{children:["Class will be instanced and add to ",(0,i.jsx)(n.code,{children:"root"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["Run flow","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Autoload"}),"\n",(0,i.jsx)(n.li,{children:"Main scene"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"using Godot;\nusing System;\n\npublic class Global : Godot.Node\n{\n    public override void _Ready()\n    {\n        // CurrentScene\n        // Viewport root = GetTree().GetRoot();\n        // root.GetChild(root.GetChildCount() - 1);\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"editor-3d-navigation",children:"Editor 3D Navigation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Hold ",(0,i.jsx)(n.code,{children:"RMB"})," / ",(0,i.jsx)("kbd",{children:"Shift + F"})," to enter fly mode","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)("kbd",{children:"W"})," ",(0,i.jsx)("kbd",{children:"S"})," ",(0,i.jsx)("kbd",{children:"A"})," ",(0,i.jsx)("kbd",{children:"D"})," to move forward / back / left / right"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)("kbd",{children:"E"})," ",(0,i.jsx)("kbd",{children:"Q"})," to move up / down"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)("kbd",{children:"Shift"})," ",(0,i.jsx)("kbd",{children:"Alt"})," to speed up / down"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MMB"})," to rotate"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"unhandled-exception-policy",children:"Unhandled Exception Policy"}),"\n",(0,i.jsx)(n.p,{children:"Do not terminate application on unhandled exception"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Project Settings"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Mono"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Unhandled Exception Policy"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"dot-product",children:"Dot Product"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"A"}),", ",(0,i.jsx)(n.code,{children:"B"})," is ",(0,i.jsx)(n.code,{children:"Vector3"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Dot(A, B)"})," return ",(0,i.jsx)(n.code,{children:"float"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Dot(A, B)"})," \u53ef\u7528\u65bc\u8a08\u7b97 A, B \u7684\u89d2\u5ea6","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"> 0 \u6642\u89d2\u5ea6 < 90"}),"\n",(0,i.jsx)(n.li,{children:"= 0 \u6642\u89d2\u5ea6 = 90"}),"\n",(0,i.jsx)(n.li,{children:"< 0 \u6642\u89d2\u5ea6 > 90"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Dot(A, B) = A.X * B.X + A.Y * B.Y + A.Z * B.Z"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Dot(A, B) = (A.Length * B.Length) * Cos(A.AngleTo(B))"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"A.AngleTo(B) = ACos(Dot(A, B) / (A.Length * B.Length))"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"A"})," and ",(0,i.jsx)(n.code,{children:"B"})," normalized","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"A.AngleTo(B) = ACos(Dot(A, B))"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"cross-product",children:"Cross Product"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"A"}),", ",(0,i.jsx)(n.code,{children:"B"})," is ",(0,i.jsx)(n.code,{children:"Vector3"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Cross(A, B)"})," return ",(0,i.jsx)(n.code,{children:"Vector3"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Cross(A, B)"})," \u5782\u76f4\u65bc ",(0,i.jsx)(n.code,{children:"A"}),", ",(0,i.jsx)(n.code,{children:"B"})," \u9019\u500b\u5e73\u9762"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Cross(A, B)"})," = ",(0,i.jsx)(n.code,{children:"-Cross(B, A)"})]}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u7528\u65bc\u8a08\u7b97 Torque (\u626d\u529b)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"mathf",children:(0,i.jsx)(n.code,{children:"Mathf"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"// Pseudo Code\nfloat Clamp(float value, float min, float max)\n{\n  if (value < min) return min;\n  if (value > max) return max;\n  return value;\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"// Pseudo Code\nfloat Wrap(float value, float min, float max)\n{\n  float range = (max - min);\n  if (value >= max) \n    return Wrap(value - range, min, max);\n  if (value <= min)\n    return Wrap(value + range, min, max);\n  return value;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"physics",children:"Physics"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Only change physics related properties (Velocity) in ",(0,i.jsx)(n.code,{children:"_integrate_forces()"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://docs.godotengine.org/en/stable/tutorials/physics/physics_introduction.html",children:"Reference"})}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.code,{children:"PhysicsDirectBodyState.step"})," to get ",(0,i.jsx)(n.code,{children:"delta"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GetCollidingBodies()"})," use much CPU"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"fps",children:"FPS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"// FPS\nEngine.TargetFps\n\n// Physics FPS\nEngine.IterationsPerSecond\n"})}),"\n",(0,i.jsx)(n.h2,{id:"input",children:"Input"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:"// Input.IsActionJustPressed() can be used in _PhysicsProcess() / _Process()\n// Godot will auto detect\npublic override void _PhysicsProcess(float delta)\n{\n    Input.IsActionJustPressed();\n}\n\npublic override void _Process(float delta)\n{\n    Input.IsActionJustPressed();\n}\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Ref: ",(0,i.jsx)(n.code,{children:"input.cpp"})]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},26192:(e,n,s)=>{s.d(n,{Z:()=>r,a:()=>c});var i=s(97049);const l={},d=i.createContext(l);function c(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);