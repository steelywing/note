"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[749],{36490:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>a,frontMatter:()=>d,metadata:()=>c,toc:()=>o});var n=r(75366),t=r(26192);const d={date:new Date("2022-12-05T00:00:00.000Z"),tags:["Speed Test","Network"]},i="iperf network speed test",c={permalink:"/note/blog/iperf",source:"@site/blog/iperf.md",title:"iperf network speed test",description:"Use iperf to test / measure network speed / bandwidth / throughput",date:"2022-12-05T00:00:00.000Z",formattedDate:"December 5, 2022",tags:[{label:"Speed Test",permalink:"/note/blog/tags/speed-test"},{label:"Network",permalink:"/note/blog/tags/network"}],readingTime:.835,hasTruncateMarker:!0,authors:[],frontMatter:{date:"2022-12-05T00:00:00.000Z",tags:["Speed Test","Network"]},unlisted:!1,prevItem:{title:"Windows host name resolution order",permalink:"/note/blog/Windows host-name resolution order"},nextItem:{title:"7z max compression",permalink:"/note/blog/7z max compression"}},l={authorsImageUrls:[]},o=[{value:"<code>iperf2</code>",id:"iperf2",level:2},{value:"<code>iperf3</code>",id:"iperf3",level:2},{value:"Comparison",id:"comparison",level:2},{value:"Test using TCP",id:"test-using-tcp",level:2},{value:"Test using UDP",id:"test-using-udp",level:2},{value:"Syntax",id:"syntax",level:2}];function h(e){const s={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["Use ",(0,n.jsx)(s.code,{children:"iperf"})," to test / measure network speed / bandwidth / throughput"]}),"\n",(0,n.jsx)(s.h2,{id:"iperf2",children:(0,n.jsx)(s.code,{children:"iperf2"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://sourceforge.net/projects/iperf2/",children:"Download"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Multi-thread"}),"\n",(0,n.jsx)(s.li,{children:"Support multi-cast"}),"\n",(0,n.jsx)(s.li,{children:"Official support Windows"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"iperf3",children:(0,n.jsx)(s.code,{children:"iperf3"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.a,{href:"https://github.com/esnet/iperf",children:"Download"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Single-thread"}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"comparison",children:"Comparison"}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsxs)(s.a,{href:"https://fasterdata.es.net/performance-testing/network-troubleshooting-tools/iperf/",children:[(0,n.jsx)(s.code,{children:"iperf2"})," / ",(0,n.jsx)(s.code,{children:"iperf3"})," comparison"]})}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"test-using-tcp",children:"Test using TCP"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",metastring:'title="Server"',children:"iperf -s -w1M -i2\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",metastring:'title="Client"',children:"iperf -c <server IP address> -w1M -i2\n"})}),"\n",(0,n.jsx)(s.h2,{id:"test-using-udp",children:"Test using UDP"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",metastring:'title="Server"',children:"iperf -u -s -w1M -i2\n"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",metastring:'title="Client"',children:"iperf -u -b 10M -c <server IP address> -w1M -i2\n"})}),"\n",(0,n.jsx)(s.h2,{id:"syntax",children:"Syntax"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"iperf <option>\n"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Option"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-s"})}),(0,n.jsx)(s.td,{children:"run server"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-D"})}),(0,n.jsx)(s.td,{children:"run server as daemon"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-c <host>"})}),(0,n.jsxs)(s.td,{children:["run client, connect to server ",(0,n.jsx)(s.code,{children:"<host>"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-w <size>{K\xa6M}"})}),(0,n.jsx)(s.td,{children:"set TCP window size, suggest > 1M"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-u"})}),(0,n.jsx)(s.td,{children:"use UDP"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-b <bandwidth>{K\xa6M}"})}),(0,n.jsx)(s.td,{children:"set bandwidth, required for UDP"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-p <port>"})}),(0,n.jsxs)(s.td,{children:["use port ",(0,n.jsx)(s.code,{children:"<port>"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-i <second>"})}),(0,n.jsxs)(s.td,{children:["show report per ",(0,n.jsx)(s.code,{children:"<second>"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-d"})," \xa6 ",(0,n.jsx)(s.code,{children:"--dualtest"})]}),(0,n.jsx)(s.td,{children:"bi-directional test"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-t <second>"})}),(0,n.jsxs)(s.td,{children:["run ",(0,n.jsx)(s.code,{children:"<second>"})," test"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"--reverse"})}),(0,n.jsx)(s.td,{children:"reverse test (client receive, server send)"})]})]})]})]})}function a(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},26192:(e,s,r)=>{r.d(s,{Z:()=>c,a:()=>i});var n=r(97049);const t={},d=n.createContext(t);function i(e){const s=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(d.Provider,{value:s},e.children)}}}]);