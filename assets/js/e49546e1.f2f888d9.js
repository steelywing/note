"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[1279],{50793:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>i,frontMatter:()=>r,metadata:()=>a,toc:()=>p});var t=s(75366),l=s(26192);const r={},c="Installation - PHP",a={id:"Programming/PHP/Installation",title:"Installation - PHP",description:"CentOS",source:"@site/docs/Programming/PHP/Installation.md",sourceDirName:"Programming/PHP",slug:"/Programming/PHP/Installation",permalink:"/note/Programming/PHP/Installation",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Programming/PHP/Installation.md",tags:[],version:"current",frontMatter:{},sidebar:"programming",previous:{title:"PHP",permalink:"/note/Programming/PHP/"},next:{title:"PHP issue",permalink:"/note/Programming/PHP/Issue"}},o={},p=[{value:"CentOS",id:"centos",level:2},{value:"Using <code>mod_php</code>",id:"using-mod_php",level:3},{value:"Using PHP FPM",id:"using-php-fpm",level:3}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"installation---php",children:"Installation - PHP"}),"\n",(0,t.jsx)(n.h2,{id:"centos",children:"CentOS"}),"\n",(0,t.jsxs)(n.h3,{id:"using-mod_php",children:["Using ",(0,t.jsx)(n.code,{children:"mod_php"})]}),"\n",(0,t.jsx)(n.p,{children:"Install the Software Collection repository"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yum -y install centos-release-scl\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install the PHP 7.0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yum -y install rh-php70 rh-php70-php rh-php70-php-fpm\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Find out ",(0,t.jsx)(n.code,{children:"rh-php70-php"})," (",(0,t.jsx)(n.code,{children:"mod_php"}),") installed files"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"repoquery -l rh-php70-php\n"})}),"\n",(0,t.jsx)(n.p,{children:"List SCL packages"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"scl -l\n"})}),"\n",(0,t.jsx)(n.p,{children:"Enable PHP 7.0 on current shell session"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"scl enable rh-php70-php\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Enable ",(0,t.jsx)(n.code,{children:"mod_php"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ln -s /opt/rh/httpd24/root/etc/httpd/conf.d/rh-php70-php.conf /etc/httpd/conf.d/\n\nln -s /opt/rh/httpd24/root/etc/httpd/conf.modules.d/15-rh-php70-php.conf /etc/httpd/conf.modules.d/\n\nln -s /opt/rh/httpd24/root/etc/httpd/modules/librh-php70-php7.so /etc/httpd/modules/\n"})}),"\n",(0,t.jsx)(n.p,{children:"Restart Apache"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl restart httpd\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Ref: ",(0,t.jsx)(n.a,{href:"https://wiki.centos.org/HowTos/php7",children:"CentOS WiKi"})]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Ref: ",(0,t.jsx)(n.a,{href:"https://docs.nextcloud.com/server/13.0.0/admin_manual/installation/php_70_installation.html",children:"NextCloud manual"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"using-php-fpm",children:"Using PHP FPM"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yum -y install rh-php70-php-fpm\n"})}),"\n",(0,t.jsx)(n.p,{children:"Allow on SELinux"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"semanage port -a -t http_port_t -p tcp 9000\n"})}),"\n",(0,t.jsx)(n.p,{children:"Enable PHP FPM service"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"systemctl enable rh-php70-php-fpm\nsystemctl start rh-php70-php-fpm\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Ref: ",(0,t.jsx)(n.a,{href:"https://cwiki.apache.org/confluence/display/HTTPD/PHP-FPM",children:"Apache PHP FPM"})]}),"\n"]})]})}function i(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},26192:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>c});var t=s(97049);const l={},r=t.createContext(l);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);