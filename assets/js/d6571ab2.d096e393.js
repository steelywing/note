"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5368],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),p=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=p(n),k=r,m=d["".concat(c,".").concat(k)]||d[k]||u[k]||l;return n?a.createElement(m,i(i({ref:t},s),{},{components:n})):a.createElement(m,i({ref:t},s))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4558:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=n(7462),r=(n(7294),n(3905));const l={},i=void 0,o={unversionedId:"Network/Cisco/IOS",id:"Network/Cisco/IOS",title:"IOS",description:"Basic",source:"@site/docs/Network/Cisco/IOS.md",sourceDirName:"Network/Cisco",slug:"/Network/Cisco/IOS",permalink:"/note/Network/Cisco/IOS",draft:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Network/Cisco/IOS.md",tags:[],version:"current",frontMatter:{},sidebar:"network",previous:{title:"FirePower",permalink:"/note/Network/Cisco/FirePower"},next:{title:"Password",permalink:"/note/Network/Cisco/SMB"}},c={},p=[{value:"Basic",id:"basic",level:2},{value:"EXEC / Config Mode",id:"exec--config-mode",level:2},{value:"Web UI",id:"web-ui",level:2},{value:"Show configuration",id:"show-configuration",level:2},{value:"Save / Reset",id:"save--reset",level:2},{value:"Reset password",id:"reset-password",level:2},{value:"Log",id:"log",level:2},{value:"Diagnostic",id:"diagnostic",level:2},{value:"CDP (Cisco Discovery Protocol)",id:"cdp-cisco-discovery-protocol",level:3},{value:"LLDP (Link Layer Discovery Protocol)",id:"lldp-link-layer-discovery-protocol",level:3},{value:"SPAN (Switched Port Analyzer) / Port mirror",id:"span-switched-port-analyzer--port-mirror",level:3},{value:"VLAN",id:"vlan",level:2},{value:"VTP (VLAN Trunking Protocol)",id:"vtp-vlan-trunking-protocol",level:3},{value:"STP (Spanning Tree Protocol)",id:"stp-spanning-tree-protocol",level:2},{value:"STP mode",id:"stp-mode",level:3},{value:"Root guard",id:"root-guard",level:3},{value:"Loop guard",id:"loop-guard",level:3},{value:"Port fast",id:"port-fast",level:3},{value:"BPDU guard",id:"bpdu-guard",level:3},{value:"BPDU filter",id:"bpdu-filter",level:3},{value:"DHCP",id:"dhcp",level:2},{value:"Preassigning IP Addresses",id:"preassigning-ip-addresses",level:3},{value:"Verify DHCP",id:"verify-dhcp",level:3},{value:"DHCP snooping",id:"dhcp-snooping",level:3},{value:"Routing",id:"routing",level:2},{value:"Gateway",id:"gateway",level:3},{value:"Change to routing mode",id:"change-to-routing-mode",level:3},{value:"Policy-based routing",id:"policy-based-routing",level:3},{value:"OSPF",id:"ospf",level:3},{value:"DNS",id:"dns",level:2},{value:"Date / Time",id:"date--time",level:2},{value:"NTP",id:"ntp",level:3},{value:"SNMP",id:"snmp",level:2},{value:"Authenticate",id:"authenticate",level:2},{value:"Port channel (Ether channel)",id:"port-channel-ether-channel",level:2},{value:"Interface",id:"interface",level:2},{value:"Interface diagnostic",id:"interface-diagnostic",level:3},{value:"Config interface",id:"config-interface",level:3},{value:"Interface description",id:"interface-description",level:4},{value:"Auto MDI-X (Medium-Dependent Interface Crossover)",id:"auto-mdi-x-medium-dependent-interface-crossover",level:4},{value:"Layer 3 mode",id:"layer-3-mode",level:4},{value:"Layer 2 mode",id:"layer-2-mode",level:4},{value:"Set trunk encapsulation to 802.1Q",id:"set-trunk-encapsulation-to-8021q",level:4},{value:"Interface access / trunk mode",id:"interface-access--trunk-mode",level:4},{value:"Trunk native VLAN",id:"trunk-native-vlan",level:4},{value:"Allow specified VLAN on trunk",id:"allow-specified-vlan-on-trunk",level:4},{value:"Specify access port VLAN",id:"specify-access-port-vlan",level:4},{value:"Protected mode",id:"protected-mode",level:4},{value:"Bandwidth limit",id:"bandwidth-limit",level:3},{value:"Recovery <code>err-disable</code> port",id:"recovery-err-disable-port",level:3},{value:"Disable (non Cisco) GBIC module checking",id:"disable-non-cisco-gbic-module-checking",level:3},{value:"Archive configuration",id:"archive-configuration",level:2},{value:"Archive to FTP",id:"archive-to-ftp",level:3},{value:"Archive to SCP",id:"archive-to-scp",level:3},{value:"Banner",id:"banner",level:2},{value:"Show TCAM (ACL, MAC, QOS, Route) utilization",id:"show-tcam-acl-mac-qos-route-utilization",level:2},{value:"SDM - Switch Database Management (TCAM, ACL, Routing)",id:"sdm---switch-database-management-tcam-acl-routing",level:2},{value:"ACL",id:"acl",level:2},{value:"VACL (VLAN ACL)",id:"vacl-vlan-acl",level:3},{value:"IP ACL",id:"ip-acl",level:3},{value:"MAC ACL",id:"mac-acl",level:3},{value:"ARP",id:"arp",level:2},{value:"Static ARP",id:"static-arp",level:3},{value:"ARP inspection",id:"arp-inspection",level:3},{value:"Q-in-Q / IEEE 802.1Q tunnel",id:"q-in-q--ieee-8021q-tunnel",level:2},{value:"Show IEEE 802.1Q tunnel port",id:"show-ieee-8021q-tunnel-port",level:3},{value:"QoS",id:"qos",level:2},{value:"Multicast",id:"multicast",level:2},{value:"PIM (Protocol Independent Multicast)",id:"pim-protocol-independent-multicast",level:3},{value:"IP Querier",id:"ip-querier",level:3},{value:"IGMP",id:"igmp",level:3},{value:"Multicast Debug",id:"multicast-debug",level:3},{value:"Broadcast",id:"broadcast",level:2},{value:"Decrypt / Crack password",id:"decrypt--crack-password",level:2},{value:"Type 5",id:"type-5",level:3},{value:"Type 7",id:"type-7",level:3}],s={toc:p};function u(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},s,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"basic"},"Basic"),(0,r.kt)("p",null,"Cut command before cursor"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Ctrl")," + ",(0,r.kt)("inlineCode",{parentName:"p"},"X")),(0,r.kt)("p",null,"Paste command"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Ctrl")," + ",(0,r.kt)("inlineCode",{parentName:"p"},"Y")),(0,r.kt)("p",null,"Hint"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# sh?\nshell  show\n")),(0,r.kt)("h2",{id:"exec--config-mode"},"EXEC / Config Mode"),(0,r.kt)("p",null,"Privileged EXEC Mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch> en[able]\nSwitch#\n")),(0,r.kt)("p",null,"Exit to User EXEC Mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# disable\nSwitch>\n")),(0,r.kt)("p",null,"Enter config mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# conf[igure] t[erminal]\nSwitch(config)# \n")),(0,r.kt)("p",null,"Exit config mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# exit\nSwitch# \n")),(0,r.kt)("h2",{id:"web-ui"},"Web UI"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# [no] ip http server\nSwitch(config)# ip http authentication { aaa | enable | local }\n")),(0,r.kt)("h2",{id:"show-configuration"},"Show configuration"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# s[how] config[uration]\n")),(0,r.kt)("h2",{id:"save--reset"},"Save / Reset"),(0,r.kt)("p",null,"Save config"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# write\n")),(0,r.kt)("p",null,"Reset to Factory Default"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-2900-xl-series-switches/24328-156.html"},"Reference"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Erase startup config")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# write erase\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Delete VLAN config")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# delete flash:/vlan.dat\n")),(0,r.kt)("h2",{id:"reset-password"},"Reset password"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Serial setting",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"9600 baud rate"),(0,r.kt)("li",{parentName:"ul"},"No parity"),(0,r.kt)("li",{parentName:"ul"},"8 data bits"),(0,r.kt)("li",{parentName:"ul"},"1 stop bit"),(0,r.kt)("li",{parentName:"ul"},"No flow control "))),(0,r.kt)("li",{parentName:"ul"},"Send ",(0,r.kt)("strong",{parentName:"li"},"Break")," key in 15 seconds while reboot")),(0,r.kt)("p",null,"USB to Serial (RS232) cable may be not working"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/routers/10000-series-routers/12818-61.html"},"Reference"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Serial setting",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"1200 baud rate"),(0,r.kt)("li",{parentName:"ul"},"No parity"),(0,r.kt)("li",{parentName:"ul"},"8 data bits"),(0,r.kt)("li",{parentName:"ul"},"1 stop bit"),(0,r.kt)("li",{parentName:"ul"},"No flow control "))),(0,r.kt)("li",{parentName:"ul"},"Repeatedly press ",(0,r.kt)("strong",{parentName:"li"},"Space")," for 10~15 seconds while reboot"),(0,r.kt)("li",{parentName:"ul"},"Change serial setting",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"9600 baud rate"),(0,r.kt)("li",{parentName:"ul"},"No parity"),(0,r.kt)("li",{parentName:"ul"},"8 data bits"),(0,r.kt)("li",{parentName:"ul"},"1 stop bit"),(0,r.kt)("li",{parentName:"ul"},"No flow control ")))),(0,r.kt)("p",null,"For Switch"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"switch: flash_init\nswitch: load_helper\nswitch: dir flash:\nswitch: rename flash:config.text flash:config.old\nswitch: boot\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ios"},"Switch# rename flash:config.old flash:config.text\nSwitch# copy flash:config.text system:running-config\nSwitch# conf t\nSwitch(config)# enable password <password>\n")),(0,r.kt)("h2",{id:"log"},"Log"),(0,r.kt)("p",null,"Monitor log in Telnet / SSH"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# terminal [no] monitor\n")),(0,r.kt)("p",null,"Monitor log in Console"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# [no] logging console\n")),(0,r.kt)("p",null,"Display timestamp in log / debug"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# service timestamps { log | debug } datetime localtime\n")),(0,r.kt)("p",null,"Log to syslog server"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst2960/software/release/12-2_55_se/configuration/guide/scg_2960/swlog.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# logging <ip>\n")),(0,r.kt)("p",null,"Limit messages logged to the syslog server"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# logging trap <level>\n")),(0,r.kt)("p",null,"Send log"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# send log <message>\n")),(0,r.kt)("h2",{id:"diagnostic"},"Diagnostic"),(0,r.kt)("p",null,"Get CPU usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show processes cpu [ sorted | history ]\n")),(0,r.kt)("p",null,"Get temperature, fan, power status"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show env all\n")),(0,r.kt)("p",null,"Get version, up time"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show version\n")),(0,r.kt)("p",null,"Get PID, serial number"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show inventory\n")),(0,r.kt)("p",null,"Get IP traffic info"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip traffic \n")),(0,r.kt)("p",null,"Interface capabilities (type, POE, ...)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show interfaces [<interface>] capabilities\n")),(0,r.kt)("p",null,"Tech Support"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/routers/crs/software/crs_r4-2/adv_system/command/reference/b_advsys_cr42crs/b_advsys_cr42crs_chapter_0100.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show tech-support\n")),(0,r.kt)("h3",{id:"cdp-cisco-discovery-protocol"},"CDP (Cisco Discovery Protocol)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show cdp neighbors [<interface>] [detail]\n")),(0,r.kt)("h3",{id:"lldp-link-layer-discovery-protocol"},"LLDP (Link Layer Discovery Protocol)"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst4500/12-2/46sg/configuration/guide/Wrapper-46SG/swlldp.html"},"Reference"))),(0,r.kt)("p",null,"Enable / Disable LLDP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# [no] lldp run\n")),(0,r.kt)("p",null,"Enable / Disable LLDP transmit"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# [no] lldp transmit\n")),(0,r.kt)("p",null,"Enable / Disable LLDP receive"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# [no] lldp receive\n")),(0,r.kt)("p",null,"Show LLDP neighbor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show lldp neighbors\n")),(0,r.kt)("h3",{id:"span-switched-port-analyzer--port-mirror"},"SPAN (Switched Port Analyzer) / Port mirror"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-1_19_ea1/configuration/guide/3750scg/swspan.html"},"Reference"))),(0,r.kt)("p",null,"Monitor interface"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# monitor session <session number> \n    source interface <interface> \n    [ both | rx | tx ]\n")),(0,r.kt)("p",null,"Monitor all ports of specify VLAN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# monitor session <session number> \n    source vlan <VLAN list> \n    [ both | rx | tx ]\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Mirror to specify interface")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# monitor session <session number> \n    destination interface <interface>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Monitor specific VLAN")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"! <VLAN list> = <VLAN ID>[{,|-}<VLAN ID>...]\nSwitch(config)# monitor session <session number> \n    filter <VLAN list>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Remove monitor session")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# no monitor session <session number>\n")),(0,r.kt)("h2",{id:"vlan"},"VLAN"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/lan-switching/vlan/10023-3.html"},"Reference"))),(0,r.kt)("p",null,"Create VLAN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# vlan <VLAN ID>[-<VLAN ID>]\nSwitch(config-vlan)#\n\n! Older IOS version\nSwitch# vlan database\nSwitch(vlan)# vlan <VLAN ID>[-<VLAN ID>]\n")),(0,r.kt)("p",null,"Remove VLAN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# no vlan <VLAN ID>[-<VLAN ID>]\n")),(0,r.kt)("p",null,"VLAN name"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-vlan)# name <name>\n")),(0,r.kt)("p",null,"List VLAN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show vlan\n")),(0,r.kt)("p",null,"Show trunk port information"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show interfaces trunk\n")),(0,r.kt)("h3",{id:"vtp-vlan-trunking-protocol"},"VTP (VLAN Trunking Protocol)"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3560/software/release/12-2_52_se/configuration/guide/3560scg/swvtp.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# vtp mode { off | transparent | server | client }\nSwitch(config)# vtp domain <name>\nSwitch(config)# vtp password <password>\n")),(0,r.kt)("h2",{id:"stp-spanning-tree-protocol"},"STP (Spanning Tree Protocol)"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Spanning_Tree_Protocol"},"Wiki Reference")," / ",(0,r.kt)("a",{parentName:"p",href:"https://www.alliedtelesis.com/sites/default/files/documents/how-alliedware-plus/howto_aw-_config_pvst_interop_cisco_revb.pdf"},"AlliedWare Reference")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"STP (Spanning Tree Protocol) / CST (Common Spanning Tree)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"IEEE 802.1D"))),(0,r.kt)("li",{parentName:"ul"},"RSTP (Rapid Spanning Tree Protocol)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"IEEE 802.1w"),(0,r.kt)("li",{parentName:"ul"},"Compatible with CST"))),(0,r.kt)("li",{parentName:"ul"},"MSTP (Multiple Spanning Tree Protocol)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"IEEE 802.1s, IEEE 802.1Q-2005"))),(0,r.kt)("li",{parentName:"ul"},"PVST (Per-VLAN Spanning Tree)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Cisco proprietary protocol"),(0,r.kt)("li",{parentName:"ul"},"PVST = CST BPDU on native VLAN + SSTP per VLAN"))),(0,r.kt)("li",{parentName:"ul"},"Rapid-PVST",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Cisco proprietary protocol"),(0,r.kt)("li",{parentName:"ul"},"Compatible with PVST"),(0,r.kt)("li",{parentName:"ul"},"PVST = RSTP BPDU on native VLAN + SSTP per VLAN")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Port role"),(0,r.kt)("th",{parentName:"tr",align:null},"Forward BPDU"),(0,r.kt)("th",{parentName:"tr",align:null},"Forward frame"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Root"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"O")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Blocked / Alternate"),(0,r.kt)("td",{parentName:"tr",align:null},"X"),(0,r.kt)("td",{parentName:"tr",align:null},"X")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Designated"),(0,r.kt)("td",{parentName:"tr",align:null},"O"),(0,r.kt)("td",{parentName:"tr",align:null},"O")))),(0,r.kt)("h3",{id:"stp-mode"},"STP mode"),(0,r.kt)("p",null,"Recommended: Rapid-PVST"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# spanning-tree mode { pvst | rapid-pvst | mst }\n")),(0,r.kt)("h3",{id:"root-guard"},"Root guard"),(0,r.kt)("p",null,"If a root guard enabled port receives superior STP BPDU, root guard moves this port to a root-inconsistent (listening) state."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# spanning-tree guard root\n")),(0,r.kt)("h3",{id:"loop-guard"},"Loop guard"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/lan-switching/spanning-tree-protocol/10596-84.html"},"Reference"))),(0,r.kt)("p",null,"If a non-designated port no longer receive STP BPDU, the port transitions into loop-inconsistent (blocking) state."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# spanning-tree guard loop\n")),(0,r.kt)("p",null,"Enable loop guard on all port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# spanning-tree loopguard default\n")),(0,r.kt)("h3",{id:"port-fast"},"Port fast"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# spanning-tree portfast [disable]\n")),(0,r.kt)("p",null,"Enable port fast on all access port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# spanning-tree portfast default\n")),(0,r.kt)("h3",{id:"bpdu-guard"},"BPDU guard"),(0,r.kt)("p",null,"If BPDU is detected on the port, the port will be ",(0,r.kt)("inlineCode",{parentName:"p"},"err-disable"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# spanning-tree bpduguard { enable | disable }\n")),(0,r.kt)("p",null,"Enable BPDU guard on all port fast port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# spanning-tree portfast bpduguard default\n")),(0,r.kt)("h3",{id:"bpdu-filter"},"BPDU filter"),(0,r.kt)("p",null,"Ignore BPDU"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# spanning-tree bpdufilter { enable | disable }\n")),(0,r.kt)("h2",{id:"dhcp"},"DHCP"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/en/US/docs/ios/12_4t/ip_addr/configuration/guide/htdhcpsv.html"},"Reference"),"\n/ ",(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_dhcp/configuration/15-sy/dhcp-15-sy-book/dhcp-prt-bsd-aa.html#GUID-D3427E9D-D0F3-4FFE-889C-8091A84006C6"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip dhcp excluded-address <first IP> <last IP>\nSwitch(config)# ip dhcp pool <pool name>\nSwitch(dhcp-config)# network <network IP> { /<prefix length> | <network mask> }\nSwitch(dhcp-config)# dns-server <DNS IP> [<DNS IP> ...]\nSwitch(dhcp-config)# default-router <gateway IP>\n")),(0,r.kt)("h3",{id:"preassigning-ip-addresses"},"Preassigning IP Addresses"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_dhcp/configuration/15-sy/dhcp-15-sy-book/dhcp-prt-bsd-aa.html#GUID-D3427E9D-D0F3-4FFE-889C-8091A84006C6"},"Reference"))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Method 1")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(dhcp-config)# address <IP> { client-id <ID> | hardware-address <MAC address> }\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Method 2")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip dhcp pool <pool name>\nSwitch(dhcp-config)# host <IP> [ /<prefix length> | <network mask> ]\nSwitch(dhcp-config)# client-identifier <ID>\nSwitch(dhcp-config)# hardware-address <MAC address>\n")),(0,r.kt)("h3",{id:"verify-dhcp"},"Verify DHCP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip dhcp binding\nSwitch# show ip dhcp conflict \n")),(0,r.kt)("h3",{id:"dhcp-snooping"},"DHCP snooping"),(0,r.kt)("p",null,"Drop DHCP on untrust interface"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-2_52_se/configuration/guide/3750scg/swdhcp82.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip dhcp snooping\nSwitch(config)# ip dhcp snooping vlan <VLAN list>\nSwitch(config)# no ip dhcp snooping information option\n")),(0,r.kt)("p",null,"Trust DHCP from this port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# ip dhcp snooping trust\n")),(0,r.kt)("h2",{id:"routing"},"Routing"),(0,r.kt)("h3",{id:"gateway"},"Gateway"),(0,r.kt)("p",null,"For ",(0,r.kt)("inlineCode",{parentName:"p"},"no ip routing")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip default-gateway <gateway>\n")),(0,r.kt)("p",null,"For ",(0,r.kt)("inlineCode",{parentName:"p"},"ip routing")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip route 0.0.0.0 0.0.0.0 <gateway>\n")),(0,r.kt)("h3",{id:"change-to-routing-mode"},"Change to routing mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip routing\n")),(0,r.kt)("h3",{id:"policy-based-routing"},"Policy-based routing"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios/12_2/qos/configuration/guide/fqos_c/qcfpbr.html"},"Reference"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"ACL"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"permit")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"route-map")," is applied, the next ",(0,r.kt)("inlineCode",{parentName:"td"},"route-map")," clause is not evaluated")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"deny")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"route-map")," is not applied, the next ",(0,r.kt)("inlineCode",{parentName:"td"},"route-map")," clause is evaluated")))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"th"},"route-map")),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"permit")),(0,r.kt)("td",{parentName:"tr",align:null},"route is redistributed")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"deny")),(0,r.kt)("td",{parentName:"tr",align:null},"route is not redistributed")))),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"route-map")," default is permit")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# route-map <route-map name> [permit|deny] [<sequence number>]\n\n! Default (no configured match) match all\nSwitch(config-route-map)# match ip address <ACL>\nSwitch(config-route-map)# set ip next-hop <IP>\n\nSwitch(config-if)# ip policy route-map <route-map name>\n")),(0,r.kt)("h3",{id:"ospf"},"OSPF"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# router ospf <process ID>\nSwitch(config-router)# network <IP> <netmask> area <area ID>\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# ip ospf <process ID> area <area ID>\n")),(0,r.kt)("p",null,"List LSAs (Link State Advertisements)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip ospf database\n")),(0,r.kt)("p",null,"List OSPF neighbor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip ospf neighbor\n")),(0,r.kt)("p",null,"List OSPF routes"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip route ospf\n")),(0,r.kt)("p",null,"Redistributing connected networks into OSPF"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/18722-redist-conn.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-router)# redistribute connected subnets\n")),(0,r.kt)("p",null,"Redistributing static routes into OSPF"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-router)# redistribute static subnets\n")),(0,r.kt)("p",null,"Redistributing default route into OSPF"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/ip/open-shortest-path-first-ospf/47868-ospfdb9.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-router)# default-information originate\n")),(0,r.kt)("h2",{id:"dns"},"DNS"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip name-server <DNS IP> <DNS IP>...\n")),(0,r.kt)("p",null,"Disable domain name lookup in global mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# no ip domain-lookup\n")),(0,r.kt)("p",null,"Device name"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# hostname <host name>\n")),(0,r.kt)("p",null,"Device domain"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip domain-name <domain>\n")),(0,r.kt)("h2",{id:"date--time"},"Date / Time"),(0,r.kt)("p",null,"Timezone"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# clock timezone <timezone name> <timezone offset>\n")),(0,r.kt)("h3",{id:"ntp"},"NTP"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/bsm/command/bsm-xe-3se-3850-cr-book/bsm-xe-3se-3850-cr-book_chapter_00.html#wp1522568655"},"Reference"))),(0,r.kt)("p",null,"Stratum = Distance from the reference clock"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ntp server <NTP server IP>\n")),(0,r.kt)("p",null,"Set as NTP server"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ntp master [<stratum>]\n")),(0,r.kt)("h2",{id:"snmp"},"SNMP"),(0,r.kt)("p",null,"Enable SNMP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# snmp-server community <community string> ro\n")),(0,r.kt)("h2",{id:"authenticate"},"Authenticate"),(0,r.kt)("p",null,"Enable AAA authentication / authorization"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# aaa new-model\n")),(0,r.kt)("p",null,"Use local user authentication"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# aaa authentication login default local\nSwitch(config)# aaa authorization exec default local\n")),(0,r.kt)("p",null,"Enable console authorization"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# aaa authorization console\n")),(0,r.kt)("p",null,"Create user"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# username <username> \n    privilege <privilege level> \n    password <password>\n")),(0,r.kt)("p",null,"Set enable password"),(0,r.kt)("p",null,"Unnecessary for ",(0,r.kt)("inlineCode",{parentName:"p"},"privilege 15")," user"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# enable secret <password>\n")),(0,r.kt)("p",null,"Console"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# line console 0\nSwitch(config-line)# \n")),(0,r.kt)("p",null,"Telnet / SSH"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# line vty 0 15\nSwitch(config-line)# \n")),(0,r.kt)("p",null,"Generate RSA key (for SSH)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# crypto key generate rsa\n")),(0,r.kt)("p",null,"Add SSH RSA public key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip ssh pubkey-chain\nSwitch(conf-ssh-pubkey)# username <username>\nSwitch(conf-ssh-pubkey-user)# key-string\n! Must less than ~80 chars/line\nSwitch(conf-ssh-pubkey-data)# <public key>\nSwitch(conf-ssh-pubkey-data)# exit\n")),(0,r.kt)("p",null,"Login password"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Unnecessary if using ",(0,r.kt)("inlineCode",{parentName:"li"},"login local"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-line)# password <password>\n")),(0,r.kt)("p",null,"Use password to authenticate"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-line)# login\n")),(0,r.kt)("p",null,"Use user to authenticate"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-line)# login local\n")),(0,r.kt)("p",null,"Timeout"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-line)# exec-timeout 30\n")),(0,r.kt)("p",null,"Encrypt password"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# service password-encryption\n")),(0,r.kt)("p",null,"Enable Telnet / SSH"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-line)# transport input { all | telnet | ssh | none }\n")),(0,r.kt)("p",null,"Ctrl-C to break"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-line)# escape-character 3\n")),(0,r.kt)("h2",{id:"port-channel-ether-channel"},"Port channel (Ether channel)"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/datacenter/nexus5000/sw/configuration/guide/cli/CLIConfigurationGuide/EtherChannel.html"},"Reference"))),(0,r.kt)("p",null,"Enable LACP (802.3ad)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# feature lacp\n")),(0,r.kt)("p",null,"Create port channel interface"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# interface port-channel <port channel number>\n")),(0,r.kt)("p",null,"If change the configure of ",(0,r.kt)("inlineCode",{parentName:"p"},"port-channel")," interface, that will pass the configure to the assigned interface."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# interface range Gi0/1 - 2\nSwitch(config-if-range)# channel-group 1 mode active\n\nSwitch(config)# interface port-channel 1\nSwitch(config-if)# switchport mode trunk\n\nSwitch# show running-config interface port-channel 1\n!\ninterface Port-channel1\n switchport mode trunk\nend\n\nSwitch# show running-config interface Gi0/1\n!\ninterface GigabitEthernet0/1\n switchport mode trunk\nend\n\nSwitch# show running-config interface Gi0/2\n!\ninterface GigabitEthernet0/2\n switchport mode trunk\nend\n")),(0,r.kt)("p",null,"Assign interface to port channel group (LACP) (Recommend)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# channel-group <port channel number> \n    mode {active|passive}\n")),(0,r.kt)("p",null,"Assign interface to port channel group (PAgP) (Not recommend)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# channel-group <port channel number> \n    mode {auto|desirable}\n")),(0,r.kt)("p",null,"Show port channel summary"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show etherchannel summary\n")),(0,r.kt)("p",null,"Show LACP counter"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show lacp counters\n")),(0,r.kt)("p",null,"Show LACP neighbor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show lacp neighbor\n")),(0,r.kt)("h2",{id:"interface"},"Interface"),(0,r.kt)("h3",{id:"interface-diagnostic"},"Interface diagnostic"),(0,r.kt)("p",null,"Show interface status"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show interfaces status\n")),(0,r.kt)("p",null,"Show interface queue, drop, traffic rate (usage)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show interfaces summary\n")),(0,r.kt)("p",null,"Test cable TDR (Time-Domain Reflectometer) / pair length"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# test cable-diagnostics tdr interface <interface>\nSwitch# show cable-diagnostics tdr interface <interface>\n")),(0,r.kt)("p",null,"Show transceiver (fiber gain/loss)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show interfaces transceiver\n")),(0,r.kt)("h3",{id:"config-interface"},"Config interface"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# interface <interface>/<port number>\nSwitch(config-if)# \n")),(0,r.kt)("p",null,"Config a range of interface"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# interface range <interface>/<port number> - <port number>\n")),(0,r.kt)("p",null,"Config VLAN interface"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3560/software/release/12-2_52_se/configuration/guide/3560scg/swvlan.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# interface vlan <VLAN ID>\nSwitch(config-if)# ip address <IP> <netmask>\nSwitch(config-if)# no shutdown\n")),(0,r.kt)("h4",{id:"interface-description"},"Interface description"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# description <description>\n")),(0,r.kt)("h4",{id:"auto-mdi-x-medium-dependent-interface-crossover"},"Auto MDI-X (Medium-Dependent Interface Crossover)"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst2960x/software/15-0_2_EX/int_hw_components/configuration_guide/b_int_152ex_2960-x_cg/b_int_152ex_2960-x_cg_chapter_011.html"},"Reference")),(0,r.kt)("pre",{parentName:"blockquote"},(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# [no] mdix auto\n"))),(0,r.kt)("h4",{id:"layer-3-mode"},"Layer 3 mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# no switchport\n")),(0,r.kt)("h4",{id:"layer-2-mode"},"Layer 2 mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport\n")),(0,r.kt)("h4",{id:"set-trunk-encapsulation-to-8021q"},"Set trunk encapsulation to 802.1Q"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport trunk encapsulation dot1q\n")),(0,r.kt)("h4",{id:"interface-access--trunk-mode"},"Interface access / trunk mode"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport mode { access | trunk }\n")),(0,r.kt)("h4",{id:"trunk-native-vlan"},"Trunk native VLAN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport trunk native vlan <VLAN ID>\n")),(0,r.kt)("h4",{id:"allow-specified-vlan-on-trunk"},"Allow specified VLAN on trunk"),(0,r.kt)("p",null,"Default allow all"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport trunk allowed vlan <VLAN ID list>\n")),(0,r.kt)("h4",{id:"specify-access-port-vlan"},"Specify access port VLAN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport access vlan <VLAN ID>\n")),(0,r.kt)("h4",{id:"protected-mode"},"Protected mode"),(0,r.kt)("p",null,"Do not forward traffic to other protected port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport protected\n")),(0,r.kt)("h3",{id:"bandwidth-limit"},"Bandwidth limit"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-3750-series-switches/91862-cat3750-qos-config.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# srr-queue bandwidth limit <percentage>\n")),(0,r.kt)("h3",{id:"recovery-err-disable-port"},"Recovery ",(0,r.kt)("inlineCode",{parentName:"h3"},"err-disable")," port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# shutdown\nSwitch(config-if)# no shutdown\n")),(0,r.kt)("h3",{id:"disable-non-cisco-gbic-module-checking"},"Disable (non Cisco) GBIC module checking"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/interfaces-modules/gbics/200296-Unsupported-GBIC-SFP-in-sub-module-of.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# no errdisable detect cause gbic-invalid\nSwitch(config)# service unsupported-transceiver\n")),(0,r.kt)("h2",{id:"archive-configuration"},"Archive configuration"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$h")),(0,r.kt)("td",{parentName:"tr",align:null},"Hostname")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$t")),(0,r.kt)("td",{parentName:"tr",align:null},"Time")))),(0,r.kt)("h3",{id:"archive-to-ftp"},"Archive to FTP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip ftp username <username>\nSwitch(config)# ip ftp password <password>\n\nSwitch(config)# archive\nSwitch(config-archive)# path ftp://<IP>/<path>\n")),(0,r.kt)("h3",{id:"archive-to-scp"},"Archive to SCP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# archive\nSwitch(config-archive)# path scp://<username>:<password>@<IP>/<path>\n")),(0,r.kt)("h2",{id:"banner"},"Banner"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Variable"),(0,r.kt)("th",{parentName:"tr",align:null},"Value"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"$(hostname)")),(0,r.kt)("td",{parentName:"tr",align:null},"Hostname")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# banner login ^\n<banner>\n^\nSwitch(config)# \n")),(0,r.kt)("h2",{id:"show-tcam-acl-mac-qos-route-utilization"},"Show TCAM (ACL, MAC, QOS, Route) utilization"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-3850-series-switches/118957-troubleshoot-sec-acl-tcam-cat3850.html"},"Reference"))),(0,r.kt)("p",null,"If TCAM ACL full, switch will randomly drop traffic."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show platform tcam utilization asic all\n")),(0,r.kt)("h2",{id:"sdm---switch-database-management-tcam-acl-routing"},"SDM - Switch Database Management (TCAM, ACL, Routing)"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-2_55_se/configuration/guide/scg3750/swsdm.html"},"Reference"))),(0,r.kt)("p",null,"Configure system resources"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If switch stacked, check SDM is match")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show switch\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Show current SDM prefer")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show sdm prefer\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Config SDM prefer")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# sdm prefer ?\n")),(0,r.kt)("h2",{id:"acl"},"ACL"),(0,r.kt)("h3",{id:"vacl-vlan-acl"},"VACL (VLAN ACL)"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst6500/ios/15-0SY/configuration/guide/15_0_sy_swcg/vlan_acls.html"},"Reference"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Flow",src:n(6915).Z,width:"264",height:"344"})),(0,r.kt)("p",null,"By default VACL ",(0,r.kt)("inlineCode",{parentName:"p"},"drop")," (if no match and at least has 1 ACL)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-cisco"},"Switch(config)# vlan access-map <access-map name> [<sequence number>]\nSwitch(config-access-map)# action { forward | drop }\nSwitch(config-access-map)# match ip address <IP ACL>\nSwitch(config-access-map)# match mac address <MAC ACL>\nSwitch(config-access-map)# exit\n\nSwitch(config)# vlan filter <access-map name>\n    vlan-list <VLAN list>\n")),(0,r.kt)("p",null,"Block specify MAC address"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-3550-series-switches/64844-mac-acl-block-arp.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"! <MAC address> = { any | host <MAC address> | <MAC address> <MAC address mask> }\n\nSwitch(config)# mac access-list extended blacklist\nSwitch(config-ext-macl)# permit <source MAC address> <destination MAC address>\nSwitch(config-ext-macl)# exit\n\nSwitch(config)# vlan access-map <access-map name> 10\nSwitch(config-access-map)# action drop\nSwitch(config-access-map)# match mac address blacklist\nSwitch(config-access-map)# exit\nSwitch(config)# vlan access-map <access-map name> 20\nSwitch(config-access-map)# action forward\nSwitch(config-access-map)# exit\n\nSwitch(config)# vlan filter <access-map name>\n    vlan-list <VLAN list>\n")),(0,r.kt)("h3",{id:"ip-acl"},"IP ACL"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/security/ios-firewall/23602-confaccesslists.html"},"Reference"))),(0,r.kt)("p",null,"ACL default (if no match) is ",(0,r.kt)("inlineCode",{parentName:"p"},"drop"),", match if ",(0,r.kt)("inlineCode",{parentName:"p"},"(packet_ip & ~inverse_mask) == acl_ip")),(0,r.kt)("p",null,"Standard ACL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"! <address> = { any | <IP> <inverse mask> | host <IP> }\n\nSwitch(config)# ip access-list standard \n    { <ACL name> | <1-99> | <1300-1999> }\n\nSwitch(config-std-nacl)# [<sequence number>] \n    { permit | deny } \n    <source address>\n")),(0,r.kt)("p",null,"Extended ACL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"! <port> = { eq | neq | lt | gt } <port> | range <first port> <last port>\n\nSwitch(config)# ip access-list extended \n    { <ACL name> | <100-199> | <2000-2699> }\n\nSwitch(config-ext-nacl)# [<sequence number>] \n    { permit | deny } \n    { ip | udp | tcp } \n    <source address> [<source port>] \n    <destination address> [<destination port>]\n")),(0,r.kt)("p",null,"Resequencing access-list entries"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/sec_data_acl/configuration/xe-3s/sec-data-acl-xe-3s-book/sec-acl-seq-num.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip access-list resequence <ACL ID> <starting sequence number> <increment>\n")),(0,r.kt)("p",null,"List ACL"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip access-lists\n")),(0,r.kt)("h3",{id:"mac-acl"},"MAC ACL"),(0,r.kt)("p",null,"ACL default (no match) is ",(0,r.kt)("inlineCode",{parentName:"p"},"drop")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# mac access-list extended <name>\n\n! <MAC address> = { any | host <MAC address> | <MAC address> <MAC address mask> }\nSwitch(config-ext-macl)# { permit | deny } \n    <source MAC address> \n    <destination MAC address>\n")),(0,r.kt)("h2",{id:"arp"},"ARP"),(0,r.kt)("h3",{id:"static-arp"},"Static ARP"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_arp/configuration/15-mt/arp-15-mt-book/arp-config-arp.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# arp <IP address> <MAC address> arpa\n")),(0,r.kt)("h3",{id:"arp-inspection"},"ARP inspection"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750x_3560x/software/release/12-2_55_se/configuration/guide/3750xscg/swdynarp.html"},"Reference"))),(0,r.kt)("p",null,"If ARP over 15 packets per second, place the port in ",(0,r.kt)("inlineCode",{parentName:"p"},"error-disabled")," state"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip arp inspection vlan <VLAN list>\n")),(0,r.kt)("p",null,"Auto recovery"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# errdisable recovery cause arp-inspection\n")),(0,r.kt)("h2",{id:"q-in-q--ieee-8021q-tunnel"},"Q-in-Q / IEEE 802.1Q tunnel"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750x_3560x/software/release/12-2_55_se/configuration/guide/3750xscg/swtunnel.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# switchport access vlan <VLAN ID>\nSwitch(config-if)# switchport mode dot1q-tunnel\nSwitch(config)# vlan dot1q tag native\n")),(0,r.kt)("h3",{id:"show-ieee-8021q-tunnel-port"},"Show IEEE 802.1Q tunnel port"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show dot1q-tunnel\n")),(0,r.kt)("h2",{id:"qos"},"QoS"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-3550-series-switches/24800-153.html"},"Reference"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-3750-series-switches/91862-cat3750-qos-config.html"},"Reference"))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://community.cisco.com/t5/telepresence-and-video/help-understanding-qos-threshold/td-p/1374101"},"QoS Threshold")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://community.cisco.com/t5/networking-documents/egress-qos/ta-p/3122802"},"Egress QoS")),(0,r.kt)("p",null,"Enable QoS"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# mls qos\n")),(0,r.kt)("p",null,"Class map"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# class-map match-all <class name>\nSwitch(config-cmap)# match access-group <ACL>\n")),(0,r.kt)("p",null,"Policy map"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# policy-map <policy name>\nSwitch(config-pmap)# class { <class name> | class-default }\n\n! Min Burst = BPS / 8,000\nSwitch(config-pmap-c)# police\n    <BPS> \n    <burst normal> \n    <burst max> \n    exceed-action drop\n")),(0,r.kt)("p",null,"Apply policy map"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# service-policy { input | output } <policy name>\n")),(0,r.kt)("h2",{id:"multicast"},"Multicast"),(0,r.kt)("h3",{id:"pim-protocol-independent-multicast"},"PIM (Protocol Independent Multicast)"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios/solutions_docs/ip_multicast/White_papers/mcst_ovr.html#wp1009074"},"Overview"),"\n/ ",(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/ip/ip-multicast/9356-48.html"},"Quick Reference"),"\n/ ",(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios/solutions_docs/ip_multicast/White_papers/rps.html"},"Reference"),"\n/ ",(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-2_52_se/configuration/guide/3750scg/swmcast.html"},"Reference")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip multicast-routing [distributed]\nSwitch(config)# ip pim rp-address <IP> [<ACL ID>]\n\n! Enable PIM on Layer 3 interface\nSwitch(config-if)# ip pim ( sparse-mode | dense-mode | sparse-dense-mode )\n")),(0,r.kt)("h3",{id:"ip-querier"},"IP Querier"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/switches/catalyst-6500-series-switches/68131-cat-multicast-prob.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip igmp snooping querier [address <source IP>]\n")),(0,r.kt)("h3",{id:"igmp"},"IGMP"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst2960x/software/15-0_2_EX/igmp_snoop/configuration_guide/b_mc_152ex_2960-x_cg/b_mc_152ex_2960-x_cg_chapter_010.html"},"Reference"))),(0,r.kt)("p",null,"Default enabled"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip igmp snooping [vlan <VLAN ID>]\n")),(0,r.kt)("h3",{id:"multicast-debug"},"Multicast Debug"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/support/docs/ip/ip-multicast/16450-mcastguide0.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch# show ip igmp groups [detail]\nSwitch# show ip igmp membership\nSwitch# show ip mroute [<IP>] [count]\n")),(0,r.kt)("h2",{id:"broadcast"},"Broadcast"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipapp/command/iap-cr-book/iap-i1.html"},"Reference"))),(0,r.kt)("p",null,"Allow broadcast"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# ip directed-broadcast [<ACL ID>]\n")),(0,r.kt)("p",null,"Forward broadcast packet to other IP"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config-if)# ip helper-address <IP>\n")),(0,r.kt)("p",null,"Allow specified UDP port forward broadcast"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default is all")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Switch(config)# ip forward-protocol udp [<port number>]\n")),(0,r.kt)("h2",{id:"decrypt--crack-password"},"Decrypt / Crack password"),(0,r.kt)("h3",{id:"type-5"},"Type 5"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://passlib.readthedocs.io/en/stable/lib/passlib.hash.html"},"Python module")),(0,r.kt)("h3",{id:"type-7"},"Type 7"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://insecure.org/sploits/cisco.passwords.html"},"Reference"))),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("a",{parentName:"p",href:"https://www.ifm.net.nz/cookbooks/passwordcracker.html"},"Reference"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"function decryptCiscoType7(encrypted) {\n    var xlat = \"dsfd;kfoA,.iyewrkldJKDHSUBsgvca69834ncxv9873254k;fg87\";\n    var password = '';\n    var seed;\n\n    if (encrypted.length & 1) {\n        return null;\n    }\n\n    seed = parseInt(encrypted.slice(0, 2), 10);\n\n    if (isNaN(seed) || seed > 15) {\n        return null;\n    }\n\n    for (var i = 2; i < encrypted.length; i += 2) {\n        var byte = parseInt(encrypted.slice(i, i + 2), 16);\n        if (isNaN(byte)) {\n            return null;\n        }\n        password += String.fromCharCode(byte ^ xlat.charCodeAt(seed));\n        seed = (seed + 1) % xlat.length;\n    }\n\n    return password;\n}\n")))}u.isMDXComponent=!0},6915:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/VACL-5eb9d4b308a5ca33cde8725206c6746a.svg"}}]);