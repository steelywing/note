"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[85],{70273:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>x,frontMatter:()=>c,metadata:()=>i,toc:()=>o});var n=r(75366),d=r(26192);const c={},t="rsync",i={id:"Linux/rsync",title:"rsync",description:"Option",source:"@site/docs/Linux/rsync.md",sourceDirName:"Linux",slug:"/Linux/rsync",permalink:"/note/Linux/rsync",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Linux/rsync.md",tags:[],version:"current",frontMatter:{},sidebar:"linux",previous:{title:"iptables",permalink:"/note/Linux/iptables"},next:{title:"sed",permalink:"/note/Linux/sed"}},l={},o=[{value:"Option",id:"option",level:2},{value:"Trailing slash on <code>&lt;source&gt;</code>",id:"trailing-slash-on-source",level:2}];function h(e){const s={code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"rsync",children:(0,n.jsx)(s.code,{children:"rsync"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"# <source>, <destination> = [[<user>@]<host>:]<path>\n# rsync <option> <source> <destination>\n\nrsync -avHAX --info=progress2 ssh://user@host:/path/to/source /path/to/destination\n"})}),"\n",(0,n.jsx)(s.h2,{id:"option",children:"Option"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Option"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-a"}),", ",(0,n.jsx)(s.code,{children:"--archive"})]}),(0,n.jsxs)(s.td,{children:["Archive mode, equals ",(0,n.jsx)(s.code,{children:"-rlptgoD"})," (no ",(0,n.jsx)(s.code,{children:"-H"}),", ",(0,n.jsx)(s.code,{children:"-A"}),", ",(0,n.jsx)(s.code,{children:"-X"}),")"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-H"}),", ",(0,n.jsx)(s.code,{children:"--hard-links"})]}),(0,n.jsx)(s.td,{children:"Preserve hard links"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-A"}),", ",(0,n.jsx)(s.code,{children:"--acls"})]}),(0,n.jsxs)(s.td,{children:["Preserve ACLs (implies ",(0,n.jsx)(s.code,{children:"-p"}),")"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-X"}),", ",(0,n.jsx)(s.code,{children:"--xattrs"})]}),(0,n.jsx)(s.td,{children:"Preserve extended attributes"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-v"}),", ",(0,n.jsx)(s.code,{children:"--verbose"})]}),(0,n.jsx)(s.td,{children:"Verbose"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-z"}),", ",(0,n.jsx)(s.code,{children:"--compress"})]}),(0,n.jsx)(s.td,{children:"Compress during the transfer"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"--partial"})}),(0,n.jsx)(s.td,{children:"Keep partially transferred files"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"--progress"})}),(0,n.jsx)(s.td,{children:"Show progress"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"--info=progress2"})}),(0,n.jsx)(s.td,{children:"Show total progress / speed"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"--bwlimit=<rate>"})}),(0,n.jsxs)(s.td,{children:["Limit bandwidth, ",(0,n.jsx)(s.code,{children:"--bwlimit=1m"})," = 1 MiB/s"]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"-P"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"--partial --progress"})})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:'-e "ssh [-p <port>]"'})}),(0,n.jsx)(s.td,{children:"Use SSH as remote shell"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:[(0,n.jsx)(s.code,{children:"-s"}),", ",(0,n.jsx)(s.code,{children:"--protect-args"})]}),(0,n.jsx)(s.td,{children:"No space-splitting (If file name has space)"})]})]})]}),"\n",(0,n.jsxs)(s.h2,{id:"trailing-slash-on-source",children:["Trailing slash on ",(0,n.jsx)(s.code,{children:"<source>"})]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.code,{children:"/src/"})," means files under ",(0,n.jsx)(s.code,{children:"/src/*"})]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-bash",children:"# sync /src/ to /dest/src/\nrsync -av /src /dest\n# same as\nrsync -av /src/ /dest/src\n"})})]})}function x(e={}){const{wrapper:s}={...(0,d.a)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},26192:(e,s,r)=>{r.d(s,{Z:()=>i,a:()=>t});var n=r(97049);const d={},c=n.createContext(d);function t(e){const s=n.useContext(c);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),n.createElement(c.Provider,{value:s},e.children)}}}]);