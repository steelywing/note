"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6749],{70795:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>x,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var t=r(75366),s=r(26192);const i={sidebar_label:"Variable"},d="Variable - Nginx",c={id:"Note/Nginx/Variable",title:"Variable - Nginx",description:"These expressions are equivalent",source:"@site/docs/Note/Nginx/Variable.md",sourceDirName:"Note/Nginx",slug:"/Note/Nginx/Variable",permalink:"/note/Note/Nginx/Variable",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Note/Nginx/Variable.md",tags:[],version:"current",frontMatter:{sidebar_label:"Variable"},sidebar:"note",previous:{title:"SSL / TLS",permalink:"/note/Note/Nginx/SSL"},next:{title:"WebSocket Proxy - Nginx",permalink:"/note/Note/Nginx/WebSocket"}},l={},o=[{value:"<code>$host</code>",id:"host",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"variable---nginx",children:"Variable - Nginx"}),"\n",(0,t.jsx)(n.p,{children:"These expressions are equivalent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-nginx",children:'$uri\n"$uri"\n${uri}\n"${uri}"\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://nginx.org/en/docs/varindex.html",children:"Var Index"})}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Variable"}),(0,t.jsx)(n.th,{children:"Alias"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$uri"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$document_uri"})}),(0,t.jsxs)(n.td,{children:["URI, exclude ",(0,t.jsx)(n.code,{children:"$args"}),", change when internal redirect / using ",(0,t.jsx)(n.code,{children:"index"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$args"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$query_string"})}),(0,t.jsxs)(n.td,{children:["query string (the string after ",(0,t.jsx)(n.code,{children:"?"})," in URI)"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$document_root"})}),(0,t.jsx)(n.td,{}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"root"})," or ",(0,t.jsx)(n.code,{children:"alias"})," value"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$host"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"#host",children:(0,t.jsx)(n.code,{children:"$host"})})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$http_host"})}),(0,t.jsx)(n.td,{}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"Host"})," request header field"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$request_uri"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$request"})}),(0,t.jsxs)(n.td,{children:["full original request URI (with ",(0,t.jsx)(n.code,{children:"$args"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$remote_addr"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"client IP address"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"$remote_port"})}),(0,t.jsx)(n.td,{}),(0,t.jsx)(n.td,{children:"client port"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"host",children:(0,t.jsx)(n.code,{children:"$host"})}),"\n",(0,t.jsx)(n.p,{children:"In this order of precedence (from high to low)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Host name from the request line"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Host"})," request header field"]}),"\n",(0,t.jsx)(n.li,{children:"The server name matching a request"}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/note/Note/Nginx/host#validation",children:"Validation"})}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},26192:(e,n,r)=>{r.d(n,{Z:()=>c,a:()=>d});var t=r(97049);const s={},i=t.createContext(s);function d(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);