"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[5623],{60338:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var s=i(75366),t=i(26192);const r={date:new Date("2024-03-08T00:00:00.000Z"),tags:["Linux"]},d="Resize disk online in Linux",a={permalink:"/note/blog/Extend disk size online in Linux",source:"@site/blog/Extend disk size online in Linux.md",title:"Resize disk online in Linux",description:"Resize disk without power off in Linux (ESXi)",date:"2024-03-08T00:00:00.000Z",formattedDate:"March 8, 2024",tags:[{label:"Linux",permalink:"/note/blog/tags/linux"}],readingTime:.605,hasTruncateMarker:!0,authors:[],frontMatter:{date:"2024-03-08T00:00:00.000Z",tags:["Linux"]},unlisted:!1,nextItem:{title:"Create SFTP only user in Linux",permalink:"/note/blog/Create SFTP only user in Linux"}},o={authorsImageUrls:[]},l=[{value:"Extend disk size in ESXi",id:"extend-disk-size-in-esxi",level:2},{value:"Rescan disks",id:"rescan-disks",level:2},{value:"Show disk / partition info",id:"show-disk--partition-info",level:2},{value:"Resize the partition",id:"resize-the-partition",level:2},{value:"Show LVM PV info",id:"show-lvm-pv-info",level:2},{value:"Resize PV",id:"resize-pv",level:2},{value:"Resize LV",id:"resize-lv",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Resize disk without power off in Linux (ESXi)"}),"\n",(0,s.jsx)(n.h2,{id:"extend-disk-size-in-esxi",children:"Extend disk size in ESXi"}),"\n",(0,s.jsx)(n.p,{children:"Resize can be done in GUI, or CLI"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Ref: ",(0,s.jsx)(n.a,{href:"https://kb.vmware.com/s/article/1004047",children:"Increasing the size of a virtual disk (1004047)"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# vmkfstools -X <new size> <disk.vmdk>\n\nvmkfstools -X 1T disk.vmdk\n"})}),"\n",(0,s.jsx)(n.h2,{id:"rescan-disks",children:"Rescan disks"}),"\n",(0,s.jsx)(n.p,{children:"Tell Linux to rescan disks"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# echo 1 > /sys/class/block/<dev>/device/rescan\n\necho 1 > /sys/class/block/sda/device/rescan\n"})}),"\n",(0,s.jsx)(n.h2,{id:"show-disk--partition-info",children:"Show disk / partition info"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"cfdisk\n"})}),"\n",(0,s.jsx)(n.p,{children:"or"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# parted /dev/<disk> p\n\nparted /dev/sda p\n"})}),"\n",(0,s.jsx)(n.h2,{id:"resize-the-partition",children:"Resize the partition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# parted <disk> resizepart <partition> <new size>\n\nparted /dev/sda resizepart 1 100%\n"})}),"\n",(0,s.jsx)(n.h2,{id:"show-lvm-pv-info",children:"Show LVM PV info"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"pvs\n"})}),"\n",(0,s.jsx)(n.h2,{id:"resize-pv",children:"Resize PV"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"../../Linux/LVM/#resize-pv",children:"Resize PV"})]}),"\n",(0,s.jsx)(n.h2,{id:"resize-lv",children:"Resize LV"}),"\n",(0,s.jsxs)(n.p,{children:["See ",(0,s.jsx)(n.a,{href:"../../Linux/LVM/#resize-lv",children:"Resize LV"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},26192:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>d});var s=i(97049);const t={},r=s.createContext(t);function d(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);