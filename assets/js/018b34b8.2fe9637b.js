"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[4173],{75193:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=t(75366),s=t(26192);const o={},d="Reserve TCP/UDP port",i={id:"Windows/ReserveNetworkPort",title:"Reserve TCP/UDP port",description:"Show reserved port",source:"@site/docs/Windows/ReserveNetworkPort.md",sourceDirName:"Windows",slug:"/Windows/ReserveNetworkPort",permalink:"/note/Windows/ReserveNetworkPort",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Windows/ReserveNetworkPort.md",tags:[],version:"current",frontMatter:{},sidebar:"windows",previous:{title:"Registry",permalink:"/note/Windows/Registry"},next:{title:"VPN",permalink:"/note/Windows/VPN"}},c={},p=[{value:"Show reserved port",id:"show-reserved-port",level:2},{value:"Add / Delete reserved port",id:"add--delete-reserved-port",level:2},{value:"Clear Hyper-V / WSL binding port",id:"clear-hyper-v--wsl-binding-port",level:2}];function l(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"reserve-tcpudp-port",children:"Reserve TCP/UDP port"}),"\n",(0,n.jsx)(r.h2,{id:"show-reserved-port",children:"Show reserved port"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-cmd",children:"netsh int[erface] ipv4 `\n    show excludedportrange { tcp | udp }\n"})}),"\n",(0,n.jsx)(r.h2,{id:"add--delete-reserved-port",children:"Add / Delete reserved port"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-cmd",children:"netsh int[erface] ipv4 `\n    { add | delete } ex[cludedportrange] `\n    { [protocol=] tcp | udp } `\n    <start port> `\n    <number of ports> `\n    [ [store=] active | persistent ]\n"})}),"\n",(0,n.jsxs)(r.p,{children:["If get ",(0,n.jsx)(r.code,{children:"Access is denied"})," error when delete reserve port, try ",(0,n.jsx)(r.a,{href:"#clear-hyper-v--wsl-binding-port",children:"Clear Hyper-V / WSL binding port"})]}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:["Ref: ",(0,n.jsx)(r.a,{href:"https://support.microsoft.com/en-us/help/2665809/you-cannot-exclude-ports-by-using-the-reservedports-registry-key-in-wi",children:"You cannot exclude ports by using the ReservedPorts registry key"})]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"clear-hyper-v--wsl-binding-port",children:"Clear Hyper-V / WSL binding port"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-powershell",children:"# show reserved port\nnetsh interface ipv4 show excludedportrange protocol=tcp\n\n# stop `winnat` service if the port is reserved\nnet stop winnat\n\n# reserve the port\nnetsh int ipv4 add excludedportrange protocol=tcp startport=5000 numberofports=1\n\n# restart `winnat` service\nnet start winnat\n"})}),"\n",(0,n.jsxs)(r.blockquote,{children:["\n",(0,n.jsxs)(r.p,{children:["Ref: ",(0,n.jsx)(r.a,{href:"https://github.com/docker/for-win/issues/3171",children:"Docker issue #3171"})]}),"\n"]})]})}function a(e={}){const{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},26192:(e,r,t)=>{t.d(r,{Z:()=>i,a:()=>d});var n=t(97049);const s={},o=n.createContext(s);function d(e){const r=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(o.Provider,{value:r},e.children)}}}]);