"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9057],{48714:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>t,frontMatter:()=>s,metadata:()=>r,toc:()=>a});var d=l(75366),o=l(26192);const s={},i="Kernel",r={id:"Linux/Kernel",title:"Kernel",description:"Kernel info",source:"@site/docs/Linux/Kernel.md",sourceDirName:"Linux",slug:"/Linux/Kernel",permalink:"/note/Linux/Kernel",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Linux/Kernel.md",tags:[],version:"current",frontMatter:{},sidebar:"linux",previous:{title:"Jobs",permalink:"/note/Linux/Jobs"},next:{title:"LVM",permalink:"/note/Linux/LVM"}},c={},a=[{value:"Kernel info",id:"kernel-info",level:2},{value:"Kernel module",id:"kernel-module",level:2},{value:"List module",id:"list-module",level:3},{value:"Module info",id:"module-info",level:3},{value:"Add module",id:"add-module",level:3},{value:"Remove module",id:"remove-module",level:3},{value:"Add module and dependencies",id:"add-module-and-dependencies",level:3},{value:"Remove module and dependencies",id:"remove-module-and-dependencies",level:3},{value:"Blacklist module",id:"blacklist-module",level:3},{value:"Blacklist module even other modules depend on it",id:"blacklist-module-even-other-modules-depend-on-it",level:3},{value:"Process",id:"process",level:2}];function u(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"kernel",children:"Kernel"}),"\n",(0,d.jsx)(n.h2,{id:"kernel-info",children:"Kernel info"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"uname -a\n"})}),"\n",(0,d.jsx)(n.h2,{id:"kernel-module",children:"Kernel module"}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"module-name"})," is same as ",(0,d.jsx)(n.code,{children:"module_name"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"list-module",children:"List module"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"lsmod\n"})}),"\n",(0,d.jsx)(n.h3,{id:"module-info",children:"Module info"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-sh",children:"modinfo <module>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"add-module",children:"Add module"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"insmod <module>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"remove-module",children:"Remove module"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"rmmod <module>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"add-module-and-dependencies",children:"Add module and dependencies"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"modprobe <module>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"remove-module-and-dependencies",children:"Remove module and dependencies"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"modprobe -r <module>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"blacklist-module",children:"Blacklist module"}),"\n",(0,d.jsxs)(n.p,{children:["In ",(0,d.jsx)(n.code,{children:"/etc/modprobe.d/*.conf"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-text",children:"blacklist <module>\n"})}),"\n",(0,d.jsx)(n.h3,{id:"blacklist-module-even-other-modules-depend-on-it",children:"Blacklist module even other modules depend on it"}),"\n",(0,d.jsxs)(n.p,{children:["In ",(0,d.jsx)(n.code,{children:"/etc/modprobe.d/*.conf"})]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-text",children:"install <module> /bin/false\n"})}),"\n",(0,d.jsx)(n.h2,{id:"process",children:"Process"}),"\n",(0,d.jsx)(n.p,{children:"Get process file path"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"ls -l /proc/<pid>/exe\n"})})]})}function t(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(u,{...e})}):u(e)}},26192:(e,n,l)=>{l.d(n,{Z:()=>r,a:()=>i});var d=l(97049);const o={},s=d.createContext(o);function i(e){const n=d.useContext(s);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),d.createElement(s.Provider,{value:n},e.children)}}}]);