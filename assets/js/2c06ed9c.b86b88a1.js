"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7632],{1971:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>a,toc:()=>c});var t=s(75366),r=s(26192);const l={slug:"."},i="Python",a={id:"Programming/Python/README",title:"Python",description:"Access attribute using string",source:"@site/docs/Programming/Python/README.md",sourceDirName:"Programming/Python",slug:"/Programming/Python/",permalink:"/note/Programming/Python/",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Programming/Python/README.md",tags:[],version:"current",frontMatter:{slug:"."},sidebar:"programming",previous:{title:"Web server",permalink:"/note/Programming/PHP/WebServer"},next:{title:"Decorator",permalink:"/note/Programming/Python/Decorator"}},o={},c=[{value:"Access attribute using string",id:"access-attribute-using-string",level:2},{value:"<code>pip</code> - PIP Installs Packages",id:"pip---pip-installs-packages",level:2},{value:"Formatter",id:"formatter",level:2},{value:"Unit test",id:"unit-test",level:2},{value:"Unit test framework",id:"unit-test-framework",level:3},{value:"Show <code>sys.path</code> (module path) in CLI",id:"show-syspath-module-path-in-cli",level:2},{value:"Pass all arguments to another function",id:"pass-all-arguments-to-another-function",level:2},{value:"Decorator",id:"decorator",level:2},{value:"Bind <code>self</code> to function",id:"bind-self-to-function",level:2},{value:"Follow file",id:"follow-file",level:2},{value:"Is iterable ?",id:"is-iterable-",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"python",children:"Python"}),"\n",(0,t.jsx)(n.h2,{id:"access-attribute-using-string",children:"Access attribute using string"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"getattr(object, name, default=None)\nhasattr(object, name)\n"})}),"\n",(0,t.jsxs)(n.h2,{id:"pip---pip-installs-packages",children:[(0,t.jsx)(n.code,{children:"pip"})," - PIP Installs Packages"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://pip.pypa.io/en/stable/",children:"Reference"})}),"\n",(0,t.jsx)(n.p,{children:"CLI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip\npython -m pip\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install <package>\n"})}),"\n",(0,t.jsx)(n.p,{children:"Uninstall package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip uninstall <package>\n"})}),"\n",(0,t.jsx)(n.p,{children:"List installed package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip list\n"})}),"\n",(0,t.jsx)(n.p,{children:"Download package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip download <package>\n"})}),"\n",(0,t.jsx)(n.p,{children:"Install downloaded package"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install --no-index --find-links <directory> <package>\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Export ",(0,t.jsx)(n.code,{children:"requirements.txt"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip freeze > requirements.txt\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Install ",(0,t.jsx)(n.code,{children:"requirements.txt"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Download ",(0,t.jsx)(n.code,{children:"requirements.txt"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pip download -r requirements.txt\n"})}),"\n",(0,t.jsx)(n.h2,{id:"formatter",children:"Formatter"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/psf/black",children:(0,t.jsx)(n.code,{children:"black"})})," (Recommended)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/hhatto/autopep8",children:(0,t.jsx)(n.code,{children:"autopep8"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/google/yapf",children:(0,t.jsx)(n.code,{children:"YAPF"})})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"unit-test",children:"Unit test"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsxs)(n.a,{href:"https://pytest.readthedocs.io/en/latest/goodpractices.html",children:[(0,t.jsx)(n.code,{children:"pytest"})," reference"]})," / ",(0,t.jsx)(n.a,{href:"https://docs.python.org/3/library/unittest.html",children:"Reference"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"module/\n    lib/\n        __init__.py\n        module.py\n    tests/\n        test_module.py\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# test_module.py\n\nimport unittest\nfrom lib import module\n\nclass TestModule(unittest.TestCase):\n    def test_module(self):\n        pass\n\nif __name__ == '__main__':\n    unittest.main()\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# In /module/ folder\npython -m tests.test_module\n"})}),"\n",(0,t.jsx)(n.h3,{id:"unit-test-framework",children:"Unit test framework"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://nose.readthedocs.org/en/latest/",children:"nose"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.nose2.io/en/latest/",children:"nose2"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://pytest.readthedocs.io/en/latest/contents.html",children:"pytest"})}),"\n"]}),"\n",(0,t.jsxs)(n.h2,{id:"show-syspath-module-path-in-cli",children:["Show ",(0,t.jsx)(n.code,{children:"sys.path"})," (module path) in CLI"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python -m site\n"})}),"\n",(0,t.jsx)(n.h2,{id:"pass-all-arguments-to-another-function",children:"Pass all arguments to another function"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:"class List(list):\n    def append_twice(self, *args, **kwargs):\n        self.append(*args, **kwargs)\n        self.append(*args, **kwargs)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"decorator",children:"Decorator"}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.python.org/dev/peps/pep-0318/",children:"Reference"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:"@decorator\ndef run():\n    pass\n"})}),"\n",(0,t.jsx)(n.p,{children:"is equivalent to"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:"def run():\n    pass\nrun = decorator(run)\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:'from functools import wraps\n\ndef decorator(func):\n    # Using original func name and doc string\n    @wraps(func)\n    def wrap():\n        print("[Before]")\n        func()\n        print("[After]")\n    return wrap\n\n@decorator\ndef run():\n    print("Run")\n\nrun()\n\n# [Before]\n# Run\n# [After]\n'})}),"\n",(0,t.jsxs)(n.h2,{id:"bind-self-to-function",children:["Bind ",(0,t.jsx)(n.code,{children:"self"})," to function"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://docs.python.org/3/howto/descriptor.html#functions-and-methods",children:"Reference"})}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:"import types\n\ndef power(self, exp):\n    return pow(self, exp)\n\npower2 = types.MethodType(power, 2)\nprint(power2(8)) # 256\n"})}),"\n",(0,t.jsx)(n.h2,{id:"follow-file",children:"Follow file"}),"\n",(0,t.jsx)(n.p,{children:"Follow file changed / appended data"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:"from io import SEEK_CUR, SEEK_END, SEEK_SET\nfrom typing import Iterator, TextIO\nimport sys\n\n\ndef follow(file: TextIO, interval: float = 0.2) -> Iterator[str]:\n    from time import sleep\n    line = ''\n    while True:\n        new = file.readline()\n        if new == \"\":\n            sleep(interval)\n            continue\n        line += new\n        if not line.endswith(\"\\n\"):\n            continue\n        yield line[:-1]\n        line = ''\n\n\nif __name__ == '__main__':\n    with open(\"access.log\", 'r') as file:\n        file.seek(0, SEEK_END)\n        for line in follow(file):\n            print(line)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"is-iterable-",children:"Is iterable ?"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:"from collections.abc import Iterable\n\nisinstance(e, Iterable):\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},26192:(e,n,s)=>{s.d(n,{Z:()=>a,a:()=>i});var t=s(97049);const r={},l=t.createContext(r);function i(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);