"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[9965],{63392:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>d,toc:()=>o});var r=l(75366),t=l(26192);const a={date:new Date("2022-12-16T00:00:00.000Z"),tags:["Red Hat","Firewall","Network"]},i="Red Hat firewall",d={permalink:"/note/blog/Red Hat firewall",source:"@site/blog/Red Hat firewall.md",title:"Red Hat firewall",description:"Ref: Working with Zones | Red Hat",date:"2022-12-16T00:00:00.000Z",formattedDate:"December 16, 2022",tags:[{label:"Red Hat",permalink:"/note/blog/tags/red-hat"},{label:"Firewall",permalink:"/note/blog/tags/firewall"},{label:"Network",permalink:"/note/blog/tags/network"}],readingTime:1.225,hasTruncateMarker:!0,authors:[],frontMatter:{date:"2022-12-16T00:00:00.000Z",tags:["Red Hat","Firewall","Network"]},unlisted:!1,prevItem:{title:"Mount a path to a drive on Windows",permalink:"/note/blog/Mount path to drive"},nextItem:{title:"Symbolic link / Hard link on Windows",permalink:"/note/blog/Symbolic link and Hard link"}},s={authorsImageUrls:[]},o=[{value:"Zone",id:"zone",level:2},{value:"List zones",id:"list-zones",level:3},{value:"Display zone detail",id:"display-zone-detail",level:3},{value:"Display all zone detail",id:"display-all-zone-detail",level:3},{value:"Get default zone",id:"get-default-zone",level:3},{value:"Set default zone",id:"set-default-zone",level:3},{value:"Assign interface to a zone",id:"assign-interface-to-a-zone",level:3},{value:"Service",id:"service",level:2},{value:"Add service / TCP / UDP port",id:"add-service--tcp--udp-port",level:3},{value:"List all service",id:"list-all-service",level:3},{value:"Add port",id:"add-port",level:3},{value:"Remove port",id:"remove-port",level:3},{value:"Redirect port",id:"redirect-port",level:2},{value:"Make runtime setting persistent",id:"make-runtime-setting-persistent",level:2},{value:"Reload",id:"reload",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Ref: ",(0,r.jsx)(n.a,{href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/sec-working_with_zones",children:"Working with Zones | Red Hat"})]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Ref: ",(0,r.jsx)(n.a,{href:"https://www.redhat.com/sysadmin/secure-linux-network-firewall-cmd",children:"Secure your Linux network with firewall-cmd"})]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Interface can be assigned to a zone"}),"\n",(0,r.jsx)(n.li,{children:"Policy (ACL) can apply to zone"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"zone",children:"Zone"}),"\n",(0,r.jsx)(n.p,{children:"Zone can apply to network interface or source address"}),"\n",(0,r.jsx)(n.h3,{id:"list-zones",children:"List zones"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --get-zones\n"})}),"\n",(0,r.jsx)(n.h3,{id:"display-zone-detail",children:"Display zone detail"}),"\n",(0,r.jsx)(n.p,{children:"Display allowed service, port"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --list-all [--zone=<zone name>]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"display-all-zone-detail",children:"Display all zone detail"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --list-all-zones\n"})}),"\n",(0,r.jsx)(n.h3,{id:"get-default-zone",children:"Get default zone"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --get-default-zone\n"})}),"\n",(0,r.jsx)(n.h3,{id:"set-default-zone",children:"Set default zone"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --set-default-zone <zone name>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"assign-interface-to-a-zone",children:"Assign interface to a zone"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --zone=<zone name> --change-interface=<interface name>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"service",children:"Service"}),"\n",(0,r.jsx)(n.p,{children:"Service / Rule / ACL"}),"\n",(0,r.jsx)(n.h3,{id:"add-service--tcp--udp-port",children:"Add service / TCP / UDP port"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --add-service=<service> [--zone=<zone name>] [--permanent]\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"default"}),(0,r.jsx)(n.td,{children:"add service to runtime, not permanent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--permanent"})}),(0,r.jsx)(n.td,{children:"add service to permanent, not runtime"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Allow SSH"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --add-service=ssh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"list-all-service",children:"List all service"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --get-services\n"})}),"\n",(0,r.jsx)(n.h3,{id:"add-port",children:"Add port"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --add-port <port>/{udp|tcp}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Add TCP port 8080"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --add-port 8080/tcp\n\n# save\nfirewall-cmd --runtime-to-permanent\n"})}),"\n",(0,r.jsx)(n.h3,{id:"remove-port",children:"Remove port"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --remove-port <port>/{udp|tcp}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Remove TCP port 8080"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --remove-port 8080/tcp\n\n# save\nfirewall-cmd --runtime-to-permanent\n"})}),"\n",(0,r.jsx)(n.h2,{id:"redirect-port",children:"Redirect port"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --add-forward-port=port=<port>:proto={udp|tcp}:toport=<to port>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Redirect TCP port 8080 to 80"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --add-forward-port=port=8080:proto=tcp:toport=80\n"})}),"\n",(0,r.jsx)(n.h2,{id:"make-runtime-setting-persistent",children:"Make runtime setting persistent"}),"\n",(0,r.jsx)(n.p,{children:"Save runtime setting"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --runtime-to-permanent\n"})}),"\n",(0,r.jsx)(n.h2,{id:"reload",children:"Reload"}),"\n",(0,r.jsx)(n.p,{children:"Reload to apply permanent rule to runtime"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sh",children:"firewall-cmd --reload\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},26192:(e,n,l)=>{l.d(n,{Z:()=>d,a:()=>i});var r=l(97049);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);