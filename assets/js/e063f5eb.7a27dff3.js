"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7707],{2899:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var o=i(75366),s=i(26192);const t={tags:["Cisco","IOS","SPAN"]},r="SPAN",c={id:"Network/Cisco/IOS/SPAN",title:"SPAN",description:"Switched Port Analyzer / Port Mirroing / Port Monitoring",source:"@site/docs/Network/Cisco/IOS/SPAN.md",sourceDirName:"Network/Cisco/IOS",slug:"/Network/Cisco/IOS/SPAN",permalink:"/note/Network/Cisco/IOS/SPAN",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Network/Cisco/IOS/SPAN.md",tags:[{label:"Cisco",permalink:"/note/tags/cisco"},{label:"IOS",permalink:"/note/tags/ios"},{label:"SPAN",permalink:"/note/tags/span"}],version:"current",frontMatter:{tags:["Cisco","IOS","SPAN"]},sidebar:"network",previous:{title:"Routing",permalink:"/note/Network/Cisco/IOS/Routing"},next:{title:"STP",permalink:"/note/Network/Cisco/IOS/STP"}},a={},l=[{value:"Local SPAN",id:"local-span",level:2},{value:"Monitor interface",id:"monitor-interface",level:3},{value:"Monitor all ports of specify VLAN",id:"monitor-all-ports-of-specify-vlan",level:3},{value:"Monitor specific VLAN",id:"monitor-specific-vlan",level:3},{value:"Mirror to specify interface",id:"mirror-to-specify-interface",level:3},{value:"Remove monitor session",id:"remove-monitor-session",level:3},{value:"RSPAN",id:"rspan",level:2},{value:"Display SPAN status",id:"display-span-status",level:2}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h1,{id:"span",children:"SPAN"}),"\n",(0,o.jsx)(e.p,{children:"Switched Port Analyzer / Port Mirroing / Port Monitoring"}),"\n",(0,o.jsxs)(e.blockquote,{children:["\n",(0,o.jsxs)(e.p,{children:["Ref: ",(0,o.jsx)(e.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:i(31750).Z+"",children:"SPAN"})]}),"\n"]}),"\n",(0,o.jsx)(e.p,{children:"Copy (Mirror) source interface packet to destination interface"}),"\n",(0,o.jsx)(e.h2,{id:"local-span",children:"Local SPAN"}),"\n",(0,o.jsxs)(e.p,{children:["Mirror interface ",(0,o.jsx)(e.strong,{children:"Gi0/1"})," traffic to ",(0,o.jsx)(e.strong,{children:"Gi0/2"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cisco",children:"Switch(config)# monitor session 1 source interface Gi0/1\nSwitch(config)# monitor session 1 destination interface Gi0/2\n"})}),"\n",(0,o.jsx)(e.p,{children:"Remove SPAN"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cisco",children:"Switch(config)# no monitor session 1\n"})}),"\n",(0,o.jsx)(e.h3,{id:"monitor-interface",children:"Monitor interface"}),"\n",(0,o.jsxs)(e.p,{children:["Default: ",(0,o.jsx)(e.strong,{children:"both"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"Switch(config)# monitor\n    session <session number> \n    source interface <interface> \n    [ both | rx | tx ]\n"})}),"\n",(0,o.jsx)(e.h3,{id:"monitor-all-ports-of-specify-vlan",children:"Monitor all ports of specify VLAN"}),"\n",(0,o.jsxs)(e.p,{children:["Default: ",(0,o.jsx)(e.strong,{children:"both"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"Switch(config)# monitor\n    session <session number> \n    source vlan <VLAN list> \n    [ both | rx | tx ]\n"})}),"\n",(0,o.jsx)(e.h3,{id:"monitor-specific-vlan",children:"Monitor specific VLAN"}),"\n",(0,o.jsx)(e.p,{children:"For trunk port only"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"! <VLAN list> = <VLAN> [, <VLAN> ...]\n! <VLAN> = <VLAN ID> | <VLAN ID> - <VLAN ID>\nSwitch(config)# monitor\n    session <session number>\n    filter <VLAN list>\n"})}),"\n",(0,o.jsx)(e.h3,{id:"mirror-to-specify-interface",children:"Mirror to specify interface"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"Switch(config)# monitor\n    session <session number> \n    destination interface <interface>\n"})}),"\n",(0,o.jsx)(e.h3,{id:"remove-monitor-session",children:"Remove monitor session"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"Switch(config)# no monitor\n    session <session number>\n"})}),"\n",(0,o.jsx)(e.h2,{id:"rspan",children:"RSPAN"}),"\n",(0,o.jsx)(e.p,{children:"Remote SPAN"}),"\n",(0,o.jsx)(e.p,{children:(0,o.jsx)(e.img,{alt:"RSPAN",src:i(89391).Z+"",width:"346",height:"247"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cisco",metastring:'title="switch-1"',children:"vlan 100\n    name RSPAN\n    remote-span\n\ninterface GigabitEthernet1/0/1\n    description Trunk to switch-2\n    switchport mode trunk\n    switchport trunk allowed vlan 100\n\ninterface GigabitEthernet1/0/2\n    description Server\n\nmonitor session 1 source interface Gi1/0/2\nmonitor session 1 destination remote vlan 100\n"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cisco",metastring:'title="switch-2"',children:"vlan 100\n    name RSPAN\n    remote-span\n\ninterface GigabitEthernet1/0/2\n    description WireShark\n\ninterface GigabitEthernet1/0/15\n    description Trunk to switch-1\n    switchport mode trunk\n    switchport trunk allowed vlan 100\n\nmonitor session 1 source remote vlan 100\nmonitor session 1 destination interface Gi1/0/2\n"})}),"\n",(0,o.jsx)(e.h2,{id:"display-span-status",children:"Display SPAN status"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-cisco",children:"Switch# show monitor\n"})})]})}function h(n={}){const{wrapper:e}={...(0,s.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},31750:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/files/span-dbed81c91ac16c02fb25a8d1da82a063.pdf"},89391:(n,e,i)=>{i.d(e,{Z:()=>o});const o=i.p+"assets/images/RSPAN-5a95c51985431a8cd43bd8793e852244.svg"},26192:(n,e,i)=>{i.d(e,{Z:()=>c,a:()=>r});var o=i(97049);const s={},t=o.createContext(s);function r(n){const e=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:r(n.components),o.createElement(t.Provider,{value:e},n.children)}}}]);