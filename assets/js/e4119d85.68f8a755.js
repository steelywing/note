"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[6071],{86685:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>a,frontMatter:()=>i,metadata:()=>o,toc:()=>h});var t=n(75366),r=n(26192);const i={},d="SSH",o={id:"Linux/SSH",title:"SSH",description:"SSH tunnel",source:"@site/docs/Linux/SSH.md",sourceDirName:"Linux",slug:"/Linux/SSH",permalink:"/note/Linux/SSH",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Linux/SSH.md",tags:[],version:"current",frontMatter:{},sidebar:"linux",previous:{title:"SSH tunnel",permalink:"/note/Linux/SSH-Tunnel"},next:{title:"Samba",permalink:"/note/Linux/Samba"}},c={},h=[{value:"SSH tunnel",id:"ssh-tunnel",level:2},{value:"Copy SSH public key to remote host",id:"copy-ssh-public-key-to-remote-host",level:2},{value:"SSH agent",id:"ssh-agent",level:2},{value:"Add SSH private key",id:"add-ssh-private-key",level:3},{value:"Troubleshoot",id:"troubleshoot",level:2}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"ssh",children:"SSH"}),"\n",(0,t.jsx)(s.h2,{id:"ssh-tunnel",children:(0,t.jsx)(s.a,{href:"/note/Linux/SSH-Tunnel",children:"SSH tunnel"})}),"\n",(0,t.jsx)(s.h2,{id:"copy-ssh-public-key-to-remote-host",children:"Copy SSH public key to remote host"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ssh-copy-id [<options>] <host>\n"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Option"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-i <id_rsa.pub>"})}),(0,t.jsxs)(s.td,{children:["The public key file to be copy, default is ",(0,t.jsx)(s.code,{children:"~/.ssh/id*.pub"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:"-p <port>"})}),(0,t.jsx)(s.td,{children:"TCP port"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.code,{children:'"-o IdentityFile <id_rsa>"'})}),(0,t.jsxs)(s.td,{children:["Use ",(0,t.jsx)(s.code,{children:"<id_rsa>"})," key file to connect remote host"]})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"ssh-agent",children:"SSH agent"}),"\n",(0,t.jsxs)(s.p,{children:["For ",(0,t.jsx)(s.code,{children:"sh"})," / ",(0,t.jsx)(s.code,{children:"bash"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"eval $(ssh-agent -s)\n"})}),"\n",(0,t.jsxs)(s.p,{children:["For ",(0,t.jsx)(s.code,{children:"csh"})," / ",(0,t.jsx)(s.code,{children:"fish"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"eval (ssh-agent -c)\n"})}),"\n",(0,t.jsx)(s.h3,{id:"add-ssh-private-key",children:"Add SSH private key"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"ssh-add <private key path>\n"})}),"\n",(0,t.jsx)(s.h2,{id:"troubleshoot",children:"Troubleshoot"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Unable to negotiate with XXX.XXX.XXX.XXX port XX: no matching host key type found. Their offer: ssh-rsa,ssh-dss\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method 1"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-config",metastring:'title="/etc/ssh/ssh_config"',children:"HostKeyAlgorithms +ssh-rsa\nPubkeyAcceptedAlgorithms +ssh-rsa\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method 2"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-config",metastring:'title="~/.ssh/config"',children:"HostKeyAlgorithms +ssh-rsa\nPubkeyAcceptedAlgorithms +ssh-rsa\n"})}),"\n",(0,t.jsx)(s.p,{children:"Method 3"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-config",metastring:'title="~/.ssh/config"',children:"Host { <host IP address / host name> | * }\n    HostkeyAlgorithms +ssh-rsa\n    PubkeyAcceptedAlgorithms +ssh-rsa\n"})})]})}function a(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},26192:(e,s,n)=>{n.d(s,{Z:()=>o,a:()=>d});var t=n(97049);const r={},i=t.createContext(r);function d(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);