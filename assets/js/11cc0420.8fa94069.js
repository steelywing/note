"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[2527],{42105:(e,n,c)=>{c.r(n),c.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>l,frontMatter:()=>o,metadata:()=>r,toc:()=>h});var i=c(75366),s=c(26192);const o={tags:["Cisco","IOS","DHCP"]},t="DHCP",r={id:"Network/Cisco/IOS/DHCP",title:"DHCP",description:"Ref",source:"@site/docs/Network/Cisco/IOS/DHCP.md",sourceDirName:"Network/Cisco/IOS",slug:"/Network/Cisco/IOS/DHCP",permalink:"/note/Network/Cisco/IOS/DHCP",draft:!1,unlisted:!1,editUrl:"https://github.com/steelywing/note/edit/master/docs/Network/Cisco/IOS/DHCP.md",tags:[{label:"Cisco",permalink:"/note/tags/cisco"},{label:"IOS",permalink:"/note/tags/ios"},{label:"DHCP",permalink:"/note/tags/dhcp"}],version:"current",frontMatter:{tags:["Cisco","IOS","DHCP"]},sidebar:"network",previous:{title:"Broadcast",permalink:"/note/Network/Cisco/IOS/Broadcast"},next:{title:"DNS",permalink:"/note/Network/Cisco/IOS/DNS"}},d={},h=[{value:"Preassigning IP Addresses",id:"preassigning-ip-addresses",level:2},{value:"Verify DHCP",id:"verify-dhcp",level:2},{value:"DHCP snooping",id:"dhcp-snooping",level:2}];function p(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"dhcp",children:"DHCP"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.cisco.com/en/US/docs/ios/12_4t/ip_addr/configuration/guide/htdhcpsv.html",children:"Ref"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_dhcp/configuration/15-sy/dhcp-15-sy-book/dhcp-prt-bsd-aa.html#GUID-D3427E9D-D0F3-4FFE-889C-8091A84006C6",children:"Ref"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(config)# ip dhcp excluded-address <first IP address> <last IP address>\nSwitch(config)# ip dhcp pool <pool name>\nSwitch(dhcp-config)# network <network IP address> { /<prefix length> | <network mask> }\nSwitch(dhcp-config)# dns-server <DNS> [...]\nSwitch(dhcp-config)# default-router <gateway>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(config)# ip dhcp excluded-address 10.0.0.1 10.0.0.100\nSwitch(config)# ip dhcp pool Office\nSwitch(dhcp-config)# network 10.0.0.0 /24\nSwitch(dhcp-config)# dns-server 1.1.1.1 8.8.8.8\nSwitch(dhcp-config)# default-router 10.0.0.1\n"})}),"\n",(0,i.jsx)(n.h2,{id:"preassigning-ip-addresses",children:"Preassigning IP Addresses"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.cisco.com/c/en/us/td/docs/ios-xml/ios/ipaddr_dhcp/configuration/15-sy/dhcp-15-sy-book/dhcp-prt-bsd-aa.html#GUID-D3427E9D-D0F3-4FFE-889C-8091A84006C6",children:"Reference"})}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Method 1"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(dhcp-config)# address <IP> { client-id <ID> | hardware-address <MAC address> }\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Method 2"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(config)# ip dhcp pool <pool name>\nSwitch(dhcp-config)# host <IP> [ /<prefix length> | <network mask> ]\nSwitch(dhcp-config)# client-identifier <ID>\nSwitch(dhcp-config)# hardware-address <MAC address>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"verify-dhcp",children:"Verify DHCP"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch# show ip dhcp binding\nSwitch# show ip dhcp conflict \n"})}),"\n",(0,i.jsx)(n.h2,{id:"dhcp-snooping",children:"DHCP snooping"}),"\n",(0,i.jsx)(n.p,{children:"Drop DHCP on untrust interface"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3750/software/release/12-2_52_se/configuration/guide/3750scg/swdhcp82.html",children:"Reference"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(config)# ip dhcp snooping\nSwitch(config)# ip dhcp snooping vlan <VLAN list>\nSwitch(config)# no ip dhcp snooping information option\n"})}),"\n",(0,i.jsx)(n.p,{children:"Trust DHCP from this port"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Switch(config-if)# ip dhcp snooping trust\n"})})]})}function l(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},26192:(e,n,c)=>{c.d(n,{Z:()=>r,a:()=>t});var i=c(97049);const s={},o=i.createContext(s);function t(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);